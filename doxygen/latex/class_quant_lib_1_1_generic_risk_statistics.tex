\doxysection{Quant\+Lib\+::Generic\+Risk\+Statistics\texorpdfstring{$<$}{<} S \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{class_quant_lib_1_1_generic_risk_statistics}{}\label{class_quant_lib_1_1_generic_risk_statistics}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}


empirical-\/distribution risk measures  




{\ttfamily \#include $<$riskstatistics.\+hpp$>$}

Inheritance diagram for Quant\+Lib\+::Generic\+Risk\+Statistics\texorpdfstring{$<$}{<} S \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_quant_lib_1_1_generic_risk_statistics}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_generic_risk_statistics_a514d1b1eeb134d2faa6b19009affb2a0}\label{class_quant_lib_1_1_generic_risk_statistics_a514d1b1eeb134d2faa6b19009affb2a0} 
typedef S\+::value\+\_\+type {\bfseries value\+\_\+type}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_ac6bc26e174904612921c654788dc473d}{semi\+Variance}} () const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_add2cb12a10179be66d8a64a7c006ebe2}{semi\+Deviation}} () const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_a643a1718b23c9d2a18765dc811d76ffd}{downside\+Variance}} () const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_ac88317355feeaf5f56627ff53e627c4b}{downside\+Deviation}} () const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_a456293633096b4ce35e2365c2fddb916}{regret}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} target) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_abe7e75526ed4a545c7e8e94ab058e308}{potential\+Upside}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} percentile) const
\begin{DoxyCompactList}\small\item\em potential upside (the reciprocal of VAR) at a given percentile \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_a3acf818d61c706e78201d02895df4862}{value\+At\+Risk}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} percentile) const
\begin{DoxyCompactList}\small\item\em value-\/at-\/risk at a given percentile \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_a7c0a448fa67e0af8b9294adfb8b5eb1f}{expected\+Shortfall}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} percentile) const
\begin{DoxyCompactList}\small\item\em expected shortfall at a given percentile \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_aee69886a70211eb01b710ecea29d70a6}{shortfall}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} target) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics_a33e666d054f6863653a7e638c360e796}{average\+Shortfall}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} target) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class S$>$\newline
class Quant\+Lib\+::\+Generic\+Risk\+Statistics$<$ S $>$}
empirical-\/distribution risk measures 

This class wraps a somewhat generic statistic tool and adds a number of risk measures (e.\+g.\+: value-\/at-\/risk, expected shortfall, etc.) based on the data distribution as reported by the underlying statistic tool.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000052}{Todo}}]add historical annualized volatility\end{DoxyRefDesc}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_quant_lib_1_1_generic_risk_statistics_a33e666d054f6863653a7e638c360e796}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!averageShortfall@{averageShortfall}}
\index{averageShortfall@{averageShortfall}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{averageShortfall()}{averageShortfall()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_a33e666d054f6863653a7e638c360e796} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::average\+Shortfall (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{target}{}\end{DoxyParamCaption}) const}

averaged shortfallness, defined as \[ \mathrm{E}\left[ t-x \;|\; x<t \right] \] \Hypertarget{class_quant_lib_1_1_generic_risk_statistics_ac88317355feeaf5f56627ff53e627c4b}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!downsideDeviation@{downsideDeviation}}
\index{downsideDeviation@{downsideDeviation}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{downsideDeviation()}{downsideDeviation()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_ac88317355feeaf5f56627ff53e627c4b} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::downside\+Deviation (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

returns the downside deviation, defined as the square root of the downside variance. \Hypertarget{class_quant_lib_1_1_generic_risk_statistics_a643a1718b23c9d2a18765dc811d76ffd}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!downsideVariance@{downsideVariance}}
\index{downsideVariance@{downsideVariance}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{downsideVariance()}{downsideVariance()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_a643a1718b23c9d2a18765dc811d76ffd} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::downside\+Variance (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

returns the variance of observations below 0.\+0,  \[ \frac{N}{N-1}
    \mathrm{E}\left[ x^2 \;|\; x < 0\right]. \] \Hypertarget{class_quant_lib_1_1_generic_risk_statistics_a7c0a448fa67e0af8b9294adfb8b5eb1f}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!expectedShortfall@{expectedShortfall}}
\index{expectedShortfall@{expectedShortfall}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{expectedShortfall()}{expectedShortfall()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_a7c0a448fa67e0af8b9294adfb8b5eb1f} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::expected\+Shortfall (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{centile}{}\end{DoxyParamCaption}) const}



expected shortfall at a given percentile 

returns the expected loss in case that the loss exceeded a VaR threshold,

\[ \mathrm{E}\left[ x \;|\; x < \mathrm{VaR}(p) \right], \]

that is the average of observations below the given percentile $ p $. Also know as conditional value-\/at-\/risk.

See Artzner, Delbaen, Eber and Heath, "{}\+Coherent measures of risk"{}, Mathematical Finance 9 (1999)

\begin{DoxyPrecond}{Precondition}
percentile must be in range \mbox{[}90\%-\/100\%) 
\end{DoxyPrecond}
\Hypertarget{class_quant_lib_1_1_generic_risk_statistics_abe7e75526ed4a545c7e8e94ab058e308}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!potentialUpside@{potentialUpside}}
\index{potentialUpside@{potentialUpside}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{potentialUpside()}{potentialUpside()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_abe7e75526ed4a545c7e8e94ab058e308} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::potential\+Upside (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{centile}{}\end{DoxyParamCaption}) const}



potential upside (the reciprocal of VAR) at a given percentile 

\begin{DoxyPrecond}{Precondition}
percentile must be in range \mbox{[}90\%-\/100\%) 
\end{DoxyPrecond}
\Hypertarget{class_quant_lib_1_1_generic_risk_statistics_a456293633096b4ce35e2365c2fddb916}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!regret@{regret}}
\index{regret@{regret}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{regret()}{regret()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_a456293633096b4ce35e2365c2fddb916} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::regret (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{target}{}\end{DoxyParamCaption}) const}

returns the variance of observations below target,   \[ \frac{N}{N-1}
    \mathrm{E}\left[ (x-t)^2 \;|\;
                      x < t \right]. \]

See Dembo and Freeman, "{}\+The Rules Of Risk"{}, Wiley (2001). \Hypertarget{class_quant_lib_1_1_generic_risk_statistics_add2cb12a10179be66d8a64a7c006ebe2}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!semiDeviation@{semiDeviation}}
\index{semiDeviation@{semiDeviation}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{semiDeviation()}{semiDeviation()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_add2cb12a10179be66d8a64a7c006ebe2} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::semi\+Deviation (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

returns the semi deviation, defined as the square root of the semi variance. \Hypertarget{class_quant_lib_1_1_generic_risk_statistics_ac6bc26e174904612921c654788dc473d}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!semiVariance@{semiVariance}}
\index{semiVariance@{semiVariance}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{semiVariance()}{semiVariance()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_ac6bc26e174904612921c654788dc473d} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::semi\+Variance (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

returns the variance of observations below the mean,   \[ \frac{N}{N-1}
    \mathrm{E}\left[ (x-\langle x \rangle)^2 \;|\;
                      x < \langle x \rangle \right]. \]

See Markowitz (1959). \Hypertarget{class_quant_lib_1_1_generic_risk_statistics_aee69886a70211eb01b710ecea29d70a6}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!shortfall@{shortfall}}
\index{shortfall@{shortfall}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{shortfall()}{shortfall()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_aee69886a70211eb01b710ecea29d70a6} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::shortfall (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{target}{}\end{DoxyParamCaption}) const}

probability of missing the given target, defined as \[ \mathrm{E}\left[ \Theta \;|\; (-\infty,\infty) \right] \] where      \[ \Theta(x) = \left\{
    \begin{array}{ll}
    1 & x < t \\
    0 & x \geq t
    \end{array}
    \right. \] \Hypertarget{class_quant_lib_1_1_generic_risk_statistics_a3acf818d61c706e78201d02895df4862}\index{QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}!valueAtRisk@{valueAtRisk}}
\index{valueAtRisk@{valueAtRisk}!QuantLib::GenericRiskStatistics$<$ S $>$@{QuantLib::GenericRiskStatistics$<$ S $>$}}
\doxysubsubsection{\texorpdfstring{valueAtRisk()}{valueAtRisk()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_generic_risk_statistics_a3acf818d61c706e78201d02895df4862} 
template$<$class S$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_generic_risk_statistics}{Quant\+Lib\+::\+Generic\+Risk\+Statistics}}$<$ S $>$\+::value\+At\+Risk (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{centile}{}\end{DoxyParamCaption}) const}



value-\/at-\/risk at a given percentile 

\begin{DoxyPrecond}{Precondition}
percentile must be in range \mbox{[}90\%-\/100\%) 
\end{DoxyPrecond}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
ql/math/statistics/\mbox{\hyperlink{riskstatistics_8hpp}{riskstatistics.\+hpp}}\end{DoxyCompactItemize}
