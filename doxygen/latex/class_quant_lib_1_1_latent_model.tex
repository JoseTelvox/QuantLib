\doxysection{Quant\+Lib\+::Latent\+Model\texorpdfstring{$<$}{<} copula\+Policy\+Impl \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{class_quant_lib_1_1_latent_model}{}\label{class_quant_lib_1_1_latent_model}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}


Generic multifactor latent variable model.  




{\ttfamily \#include $<$latentmodel.\+hpp$>$}

Inheritance diagram for Quant\+Lib\+::Latent\+Model\texorpdfstring{$<$}{<} copula\+Policy\+Impl \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.373494cm]{class_quant_lib_1_1_latent_model}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_quant_lib_1_1_latent_model_1_1_factor_sampler}{Factor\+Sampler}}
\item 
class \mbox{\hyperlink{class_quant_lib_1_1_latent_model_1_1_integration_factory}{Integration\+Factory}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{Indent}\textbf{ Latent model direct integration facility.}\par
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a25404a7f39fe1422f6e4dd1fb9b67115}{update}} () override
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Latent model random factor number generator facility.}\par
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a1dedcee7cecd341a0ed6131577b2f48e}\label{class_quant_lib_1_1_latent_model_a1dedcee7cecd341a0ed6131577b2f48e} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries size} () const
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_ad410d410b17c524efa114598a0455936}\label{class_quant_lib_1_1_latent_model_ad410d410b17c524efa114598a0455936} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries num\+Factors} () const
\begin{DoxyCompactList}\small\item\em Number of systemic factors. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a752c04c15550a49537c7eb0557bd6b16}\label{class_quant_lib_1_1_latent_model_a752c04c15550a49537c7eb0557bd6b16} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries num\+Total\+Factors} () const
\begin{DoxyCompactList}\small\item\em Number of total free random factors; systemic and idiosyncratic. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a2423b7437ca2ba9796e153bd9b9df050}{Latent\+Model}} (const std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ \&factors\+Weights, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a250ac646a6be88e253dc37c2620de9dd}{Latent\+Model}} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&factors\+Weight, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a762ae56003287bdd2995e5a46a8c9f57}{Latent\+Model}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} correl\+Sqr, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n\+Variables, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a4200b7490c6d6690d2ec1df95d4862ba}{Latent\+Model}} (const \mbox{\hyperlink{class_quant_lib_1_1_handle}{Handle}}$<$ \mbox{\hyperlink{class_quant_lib_1_1_quote}{Quote}} $>$ \&single\+Factor\+Correl, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n\+Variables, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a9058f44d45963e20631cf813f500ed50}\label{class_quant_lib_1_1_latent_model_a9058f44d45963e20631cf813f500ed50} 
const std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ \& {\bfseries factor\+Weights} () const
\begin{DoxyCompactList}\small\item\em Provides values of the factors $ a_{i,k} $. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_latent_model_ad630746a257d3e970ecf83cd47878cd3}\label{class_quant_lib_1_1_latent_model_ad630746a257d3e970ecf83cd47878cd3} 
const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \& {\bfseries idiosync\+Fctrs} () const
\begin{DoxyCompactList}\small\item\em Provides values of the normalized idiosyncratic factors $ Z_i $. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a9d3034be325054187dfafbd5f7ef1890}\label{class_quant_lib_1_1_latent_model_a9d3034be325054187dfafbd5f7ef1890} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries latent\+Variable\+Correl} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Var1, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Var2) const
\begin{DoxyCompactList}\small\item\em Latent variable correlations\+: \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observer} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \& {\bfseries operator=} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
std\+::pair$<$ iterator, bool $>$ {\bfseries register\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observer_a338928c4fe626f9ccf0b98ceb318853a}{register\+With\+Observables}} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} $>$ \&)
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries unregister\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void {\bfseries unregister\+With\+All} ()
\item 
virtual void \mbox{\hyperlink{class_quant_lib_1_1_observer_acfbf794db3e7d5cfdea2cd517a195183}{deep\+Update}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observable}{Quant\+Lib\+::\+Observable}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observable} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& \mbox{\hyperlink{class_quant_lib_1_1_observable_ad1e086da62f05b4bc5eafa698ef6fbc3}{operator=}} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
{\bfseries Observable} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& {\bfseries operator=} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observable_afb67478418efdb94382ac9d7ae904b94}{notify\+Observers}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Copula interface.}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_aad1fd370b3f36c3cf24b661d189fed01}\label{class_quant_lib_1_1_latent_model_aad1fd370b3f36c3cf24b661d189fed01} 
typedef copula\+Policy\+Impl {\bfseries copula\+Type}
\item 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_af159333d575c0b252de3c71371919dc2}{cumulativeY}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} val, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Variable) const
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_ae64724a9ecdc4cb7dadd555b019da10b}\label{class_quant_lib_1_1_latent_model_ae64724a9ecdc4cb7dadd555b019da10b} 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} {\bfseries cumulativeZ} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} z) const
\begin{DoxyCompactList}\small\item\em Cumulative distribution of Z, the idiosyncratic/error factors. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a9711849d61e8bc79608424661ac9dde2}\label{class_quant_lib_1_1_latent_model_a9711849d61e8bc79608424661ac9dde2} 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} {\bfseries density} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&m) const
\begin{DoxyCompactList}\small\item\em Density function of M, the market/systemic factors. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a10f1e843503876609d1cb14ac9b26c8e}\label{class_quant_lib_1_1_latent_model_a10f1e843503876609d1cb14ac9b26c8e} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries inverse\+Cumulative\+Density} (\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} p, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Factor) const
\begin{DoxyCompactList}\small\item\em Inverse cumulative distribution of the systemic factor i\+Factor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a8f4c7a3b52e2a50a88b3a2e67cc1109b}{inverse\+CumulativeY}} (\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} p, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Variable) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a28355f257003546d33fda003452c820e}{inverse\+CumulativeZ}} (\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} p) const
\item 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a77b6963ac7d92d55caade265c40af9e4}{all\+Factor\+Cumul\+Inverter}} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&probs) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_aede4740894962881f21e1522349eb287}{latent\+Var\+Value}} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&all\+Factors, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Var) const
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_ae56d8a54eabfb0d0216f472c727b65ac}\label{class_quant_lib_1_1_latent_model_ae56d8a54eabfb0d0216f472c727b65ac} 
const copula\+Type \& {\bfseries copula} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Integration facility interface}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a416b1acb0a0321ba7eac54c1bc1c494d}\label{class_quant_lib_1_1_latent_model_a416b1acb0a0321ba7eac54c1bc1c494d} 
std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ {\bfseries factor\+Weights\+\_\+}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a68e201047207fd50ca0725a2cb7a21d4}\label{class_quant_lib_1_1_latent_model_a68e201047207fd50ca0725a2cb7a21d4} 
\mbox{\hyperlink{class_quant_lib_1_1_handle}{Handle}}$<$ \mbox{\hyperlink{class_quant_lib_1_1_quote}{Quote}} $>$ {\bfseries cached\+Mkt\+Factor\+\_\+}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a4f058b49788035828bbe2b3e78db9ebe}\label{class_quant_lib_1_1_latent_model_a4f058b49788035828bbe2b3e78db9ebe} 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ {\bfseries idiosync\+Fctrs\+\_\+}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_acd1daf4e28ce8ab5233065be60fd2896}\label{class_quant_lib_1_1_latent_model_acd1daf4e28ce8ab5233065be60fd2896} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries n\+Factors\+\_\+}
\begin{DoxyCompactList}\small\item\em Number of systemic factors. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a43e8cf454283157cab9a90b5aa261409}\label{class_quant_lib_1_1_latent_model_a43e8cf454283157cab9a90b5aa261409} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries n\+Variables\+\_\+}
\begin{DoxyCompactList}\small\item\em Number of latent model variables, idiosyncratic terms or model dim. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_latent_model_aa3dbc85525bd7e1dfbf3a41591cabe27}\label{class_quant_lib_1_1_latent_model_aa3dbc85525bd7e1dfbf3a41591cabe27} 
copula\+Type {\bfseries copula\+\_\+}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a8f73847f26e632e54de23dc218e44875}{integrated\+Expected\+Value}} (const std\+::function$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}(const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&v1)$>$ \&f) const
\item 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a450b60907aff21aa12ef61c50206ec4b}{integrated\+Expected\+ValueV}} (const std\+::function$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$(const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&v1)$>$ \&f) const
\item 
virtual const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_l_m_integration}{LMIntegration}} $>$ \& \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a89eb0c30269ba582f13776a19048c94b}{integration}} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
typedef set\+\_\+type\+::iterator {\bfseries iterator}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class copula\+Policy\+Impl$>$\newline
class Quant\+Lib\+::\+Latent\+Model$<$ copula\+Policy\+Impl $>$}
Generic multifactor latent variable model. 

\begin{DoxyParagraph}{}
In this model set up one considers latent (random) variables $ Y_i $ described by\+:            \[    \begin{array}{ccccc}
    Y_1 & = & \sum_k M_k a_{1,k} & + \sqrt{1-\sum_k a_{1,k}^2} Z_1 & 
        \sim \Phi_{Y_1}\nonumber \\
    ... & = &      ... & ...   & \nonumber \\
    Y_i & = & \sum_k M_k a_{i,k} & + \sqrt{1-\sum_k a_{i,k}^2} Z_i & 
        \sim \Phi_{Y_i}\nonumber \\
    ... & = &      ... & ...   & \nonumber \\
    Y_N & = & \sum_k M_k a_{N,k} & + \sqrt{1-\sum_k a_{N,k}^2} Z_N & 
        \sim \Phi_{Y_N}
    \end{array}
\] where the systemic $ M_k $ and idiosyncratic $ Z_i $ (this last one known as error term in some contexts) random variables have independent zero-\/mean unit-\/variance distributions. A restriction of the model implemented here is that the N idiosyncratic variables all follow the same probability law $ \Phi_Z(z)$ (but they are still independent random variables) Also the model is normalized so that\+: $-1\leq a_{i,k} \leq 1$ (technically the $Y_i$ are convex linear combinations). The correlation between $Y_i$ and $Y_j$ is then $\sum_k a_{i,k} a_{j,k}$. $\Phi_{Y_i}$ denotes the cumulative distribution function of $Y_i$ which in general differs for each latent variable.
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
In its single factor set up this model is usually employed in derivative pricing and it is best to use it through integration of the desired statistical properties of the model; in its multifactorial version (with typically around a dozen factors) it is used in the context of portfolio risk metrics; because of the number of variables it is best to opt for a simulation to compute model properties/magnitudes. For this reason this class template provides a random factor sample interface and an integration interface that will be instantiated by derived concrete models as needed. The class is neutral on the integration and random generation algorithms
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
The latent variables are typically treated as unobservable magnitudes and they serve to model one or several magnitudes related to them through some function       \[    \begin{array}{ccc}
    F_i(Y_i) & = & 
        F_i(\sum_k M_k a_{i,k} + \sqrt{1-\sum_k a_{i,k}^2} Z_i )\nonumber \\
    & = & F_i(M_1,..., M_k, ..., M_K, Z_i)
    \end{array}
\] The transfer function can have a more generic form\+: $F_i(Y_1,....,Y_N)$ but here the model is restricted to a one to one relation between the latent variables and the modelled ones. Also it is assumed that $F_i(y_i; \tau)$ is monotonic in $y_i$; it can then be inverted and the relation of the cumulative probability of $F_i$ and $Y_i$ is simple\+:    \[    \int_{\infty}^b \phi_{F_i} df = 
        \int_{\infty}^{F_i^{-1}(b)} \phi_{Y_i} dy
\] If $t$ is some value of the functional or modelled variable, $y$ is mapped to $t$ such that percentiles match, i.\+e. $F_Y(y)=Q_i(t)$ or $y=F_Y^{-1}(Q_i(t))$. The class provides an integration facility of arbitrary functions dependent on the model states. It also provides random number generation interfaces for usage of the model in monte carlo simulations.
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Now let $\Phi_Z(z)$ be the cumulated distribution function of (all equal as mentioned) $Z_i$. For a given realization of $M_k$, this determines the distribution of $y$\+:           \[    Prob \,(Y_i < y|M_k) = \Phi_Z \left( \frac{y-\sum_k a_{i,k}\,M_k}
        {\sqrt{1-\sum_k a_{i,k}^2}}\right)
    \qquad
    \mbox{or}
    \qquad
    Prob \,(t_i < t|M) = \Phi_Z \left( \frac
        {F_{Y_{i}}^{-1}(Q_i(t))-\sum_k a_{i,k}\,M_k}
        {\sqrt{1-\sum_k a_{i,k}^2}}
    \right)
\] The distribution functions of $ M_k, Z_i $ are specified in specific copula template classes. The distribution function of $ Y_i $ is then given by the convolution             \[    F_{Y_{i}}(y) = Prob\,(Y_i<y) = 
    \int_{-\infty}^\infty\,\cdots\,\int_{-\infty}^{\infty}\:
    D_Z(z)\,\prod_k D_{M_{k}}(m_k) \quad
    \Theta \left(y - \sum_k a_{i,k}m_k - 
        \sqrt{1-\sum_k a_{i,k}^2}\,z\right)\,d\bar{m}\,dz,
    \qquad
    \Theta (x) = \left\{
    \begin{array}{ll}
    1 & x \geq 0 \\
    0 & x < 0
    \end{array}\right.
\] where $ D_Z(z) $ and $ D_M(m) $ are the probability densities of $ Z$ and $ M, $ respectively.
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
This convolution can also be written        \[    F_{Y_{i}}(y) = Prob \,(Y_i < y) =
    \int_{-\infty}^\infty\,\cdots\,\int_{-\infty}^{\infty} 
        D_{M_{k}}(m_k)\,dm_k\:
    \int_{-\infty}^{g(y,\vec{a},\vec{m})} D_Z(z)\,dz, \qquad
    g(y,\vec{a},\vec{m}) = \frac{y - \sum_k a_{i,k}m_k}
        {\sqrt{1-\sum_k a_{i,k}^2}}, \qquad \sum_k a_{i,k}^2 < 1
\] In general, $ F_{Y_{i}}(y) $ needs to be computed numerically.
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
The policy class template separates the copula function (the distributions involved) and the functionality (i.\+e. what the latent ~\newline
 model represents\+: a default probability, a recovery...). Since the ~\newline
 copula methods for the probabilities are to be called repeatedly from an integration or a MC simulation, virtual tables are avoided and template parameter mechnics is preferred.
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
There is nothing at this level enforncing the requirement on the factor distributions to be of zero mean and unit variance. Thats the user responsibility and the model fails to behave correctly if it is not the case.
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Derived classes should implement a modelled magnitude (default time, etc) and will provide probability distributions and conditional values. They could also provide functionality for the parameter inversion problem, the (e.\+g.) time at which the modeled variable first takes a given value. This problem has solution/sense depending on the transfer function $F_i(Y_i)$ characteristics.
\end{DoxyParagraph}
To make direct integration and simulation time efficient virtual functions have been avoided in accessing methods in the copula policy and in the sampling of the random factors 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_quant_lib_1_1_latent_model_a2423b7437ca2ba9796e153bd9b9df050}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!LatentModel@{LatentModel}}
\index{LatentModel@{LatentModel}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{LatentModel()}{LatentModel()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a2423b7437ca2ba9796e153bd9b9df050} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::\+Latent\+Model (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ \&}]{factors\+Weights}{, }\item[{const typename copula\+Type\+::init\+Traits \&}]{ini}{ = {\ttfamily typename~copulaType\+:\+:initTraits()}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Constructs a LM with an arbitrary number of latent variables and factors given by the dimensions of the passed matrix. 
\begin{DoxyParams}{Parameters}
{\em factors\+Weights} & Ordering is factor\+Weights\+\_\+\mbox{[}i\+Var\mbox{]}\mbox{[}i\+Factor\mbox{]} \\
\hline
{\em ini} & Initialization variables. Trait type from the copula policy to allow for static policies (this solution needs to be revised, possibly drop the static policy and create a policy member in \doxylink{class_quant_lib_1_1_latent_model}{Latent\+Model}) \\
\hline
\end{DoxyParams}
\Hypertarget{class_quant_lib_1_1_latent_model_a250ac646a6be88e253dc37c2620de9dd}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!LatentModel@{LatentModel}}
\index{LatentModel@{LatentModel}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{LatentModel()}{LatentModel()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a250ac646a6be88e253dc37c2620de9dd} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::\+Latent\+Model (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&}]{factors\+Weight}{, }\item[{const typename copula\+Type\+::init\+Traits \&}]{ini}{ = {\ttfamily typename~copulaType\+:\+:initTraits()}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Constructs a LM with an arbitrary number of latent variables depending only on one random factor but contributing to each latent variable through different weights. 
\begin{DoxyParams}{Parameters}
{\em factors\+Weight} & Ordering is factor\+Weights\+\_\+\mbox{[}i\+Variable\mbox{]} \\
\hline
{\em ini} & Initialization variables. Trait type from the copula policy to allow for static policies (this solution needs to be revised, possibly drop the static policy and create a policy member in \doxylink{class_quant_lib_1_1_latent_model}{Latent\+Model}) \\
\hline
\end{DoxyParams}
\Hypertarget{class_quant_lib_1_1_latent_model_a762ae56003287bdd2995e5a46a8c9f57}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!LatentModel@{LatentModel}}
\index{LatentModel@{LatentModel}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{LatentModel()}{LatentModel()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a762ae56003287bdd2995e5a46a8c9f57} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::\+Latent\+Model (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{correl\+Sqr}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{n\+Variables}{, }\item[{const typename copula\+Type\+::init\+Traits \&}]{ini}{ = {\ttfamily typename~copulaType\+:\+:initTraits()}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Constructs a LM with an arbitrary number of latent variables depending only on one random factor with the same weight for all latent variables.

correl\+Sqr is the weight, same for all.

ini is a trait type from the copula policy, to allow for static policies (this solution needs to be revised, possibly drop the static policy and create a policy member in \doxylink{class_quant_lib_1_1_latent_model}{Latent\+Model}) \Hypertarget{class_quant_lib_1_1_latent_model_a4200b7490c6d6690d2ec1df95d4862ba}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!LatentModel@{LatentModel}}
\index{LatentModel@{LatentModel}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{LatentModel()}{LatentModel()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a4200b7490c6d6690d2ec1df95d4862ba} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::\+Latent\+Model (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_handle}{Handle}}$<$ \mbox{\hyperlink{class_quant_lib_1_1_quote}{Quote}} $>$ \&}]{single\+Factor\+Correl}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{n\+Variables}{, }\item[{const typename copula\+Type\+::init\+Traits \&}]{ini}{ = {\ttfamily typename~copulaType\+:\+:initTraits()}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Constructs a LM with an arbitrary number of latent variables depending only on one random factor with the same weight for all latent variables. The weight is observed and this constructor is intended to be used when the model relates to a market value.

single\+Factor\+Correl is the weight/mkt-\/factor, same for all.

ini is a trait type from the copula policy, to allow for static policies (this solution needs to be revised, possibly drop the static policy and create a policy member in \doxylink{class_quant_lib_1_1_latent_model}{Latent\+Model}) 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_quant_lib_1_1_latent_model_a77b6963ac7d92d55caade265c40af9e4}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!allFactorCumulInverter@{allFactorCumulInverter}}
\index{allFactorCumulInverter@{allFactorCumulInverter}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{allFactorCumulInverter()}{allFactorCumulInverter()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a77b6963ac7d92d55caade265c40af9e4} 
template$<$class copula\+Policy\+Impl$>$ \\
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::all\+Factor\+Cumul\+Inverter (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&}]{probs}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

All factor cumulative inversion. Used in integrations and sampling. Inverts all the cumulative random factors probabilities in the model. These are all the systemic factors plus all the idiosyncratic ones, so the size of the inversion is the number of systemic factors plus the number of latent modelled variables \Hypertarget{class_quant_lib_1_1_latent_model_af159333d575c0b252de3c71371919dc2}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!cumulativeY@{cumulativeY}}
\index{cumulativeY@{cumulativeY}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{cumulativeY()}{cumulativeY()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_af159333d575c0b252de3c71371919dc2} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::cumulativeY (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{val}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Variable}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Cumulative probability of the $ Y_i $ modelled latent random variable to take a given value. \Hypertarget{class_quant_lib_1_1_latent_model_a8f73847f26e632e54de23dc218e44875}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!integratedExpectedValue@{integratedExpectedValue}}
\index{integratedExpectedValue@{integratedExpectedValue}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{integratedExpectedValue()}{integratedExpectedValue()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a8f73847f26e632e54de23dc218e44875} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::integrated\+Expected\+Value (\begin{DoxyParamCaption}\item[{const std\+::function$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}(const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&v1)$>$ \&}]{f}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Integrates an arbitrary scalar function over the density domain(i.\+e. computes its expected value). \Hypertarget{class_quant_lib_1_1_latent_model_a450b60907aff21aa12ef61c50206ec4b}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!integratedExpectedValueV@{integratedExpectedValueV}}
\index{integratedExpectedValueV@{integratedExpectedValueV}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{integratedExpectedValueV()}{integratedExpectedValueV()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a450b60907aff21aa12ef61c50206ec4b} 
template$<$class copula\+Policy\+Impl$>$ \\
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::integrated\+Expected\+ValueV (\begin{DoxyParamCaption}\item[{const std\+::function$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$(const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&v1)$>$ \&}]{f}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Integrates an arbitrary vector function over the density domain(i.\+e. computes its expected value). \Hypertarget{class_quant_lib_1_1_latent_model_a89eb0c30269ba582f13776a19048c94b}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!integration@{integration}}
\index{integration@{integration}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{integration()}{integration()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a89eb0c30269ba582f13776a19048c94b} 
template$<$class copula\+Policy\+Impl$>$ \\
virtual const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_l_m_integration}{LMIntegration}} $>$ \& \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::integration (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{class_quant_lib_1_1_default_latent_model_a25bb529ee409a22cc0384aed147d0528}{Quant\+Lib\+::\+Default\+Latent\+Model$<$ copula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_default_latent_model_a25bb529ee409a22cc0384aed147d0528}{Quant\+Lib\+::\+Default\+Latent\+Model$<$ Gaussian\+Copula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_default_latent_model_a25bb529ee409a22cc0384aed147d0528}{Quant\+Lib\+::\+Default\+Latent\+Model$<$ Gaussian\+Copula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_default_latent_model_a25bb529ee409a22cc0384aed147d0528}{Quant\+Lib\+::\+Default\+Latent\+Model$<$ TCopula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_default_latent_model_a25bb529ee409a22cc0384aed147d0528}{Quant\+Lib\+::\+Default\+Latent\+Model$<$ TCopula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model$<$ copula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model$<$ Gaussian\+Copula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model$<$ Gaussian\+Copula\+Policy $>$}}, \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model$<$ TCopula\+Policy $>$}}, and \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model$<$ TCopula\+Policy $>$}}.

\Hypertarget{class_quant_lib_1_1_latent_model_a8f4c7a3b52e2a50a88b3a2e67cc1109b}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!inverseCumulativeY@{inverseCumulativeY}}
\index{inverseCumulativeY@{inverseCumulativeY}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{inverseCumulativeY()}{inverseCumulativeY()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a8f4c7a3b52e2a50a88b3a2e67cc1109b} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::inverse\+CumulativeY (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}}}]{p}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Variable}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Inverse cumulative value of the i-\/th random latent variable with a given probability. \Hypertarget{class_quant_lib_1_1_latent_model_a28355f257003546d33fda003452c820e}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!inverseCumulativeZ@{inverseCumulativeZ}}
\index{inverseCumulativeZ@{inverseCumulativeZ}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{inverseCumulativeZ()}{inverseCumulativeZ()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a28355f257003546d33fda003452c820e} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::inverse\+CumulativeZ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}}}]{p}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Inverse cumulative value of the idiosyncratic variable with a given probability. \Hypertarget{class_quant_lib_1_1_latent_model_aede4740894962881f21e1522349eb287}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!latentVarValue@{latentVarValue}}
\index{latentVarValue@{latentVarValue}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{latentVarValue()}{latentVarValue()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_aede4740894962881f21e1522349eb287} 
template$<$class copula\+Policy\+Impl$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ copula\+Policy\+Impl $>$\+::latent\+Var\+Value (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&}]{all\+Factors}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Var}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

The value of the latent variable Y\+\_\+i conditional to (given) a set of values of the factors.

The passed all\+Factors vector contains values for all the independent factors in the model (systemic and idiosyncratic, in that order). A full sample is required, i.\+e. all the idiosyncratic values are expected to be present even if only the relevant one is used. \Hypertarget{class_quant_lib_1_1_latent_model_a25404a7f39fe1422f6e4dd1fb9b67115}\index{QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}!update@{update}}
\index{update@{update}!QuantLib::LatentModel$<$ copulaPolicyImpl $>$@{QuantLib::LatentModel$<$ copulaPolicyImpl $>$}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_latent_model_a25404a7f39fe1422f6e4dd1fb9b67115} 
template$<$class Impl$>$ \\
void \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model}}$<$ Impl $>$\+::update (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

This method must be implemented in derived classes. An instance of Observer does not call this method directly\+: instead, it will be called by the observables the instance registered with when they need to notify any changes. 

Implements \mbox{\hyperlink{class_quant_lib_1_1_observer_a07905c55dca858470fcf4a1aea0005aa}{Quant\+Lib\+::\+Observer}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
ql/experimental/math/\mbox{\hyperlink{latentmodel_8hpp}{latentmodel.\+hpp}}\end{DoxyCompactItemize}
