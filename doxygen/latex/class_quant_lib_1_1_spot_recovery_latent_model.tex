\doxysection{Quant\+Lib\+::Spot\+Recovery\+Latent\+Model\texorpdfstring{$<$}{<} copula\+Policy \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{class_quant_lib_1_1_spot_recovery_latent_model}{}\label{class_quant_lib_1_1_spot_recovery_latent_model}\index{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}}


Random spot recovery rate latent variable portfolio model.  




{\ttfamily \#include $<$spotlosslatentmodel.\+hpp$>$}

Inheritance diagram for Quant\+Lib\+::Spot\+Recovery\+Latent\+Model\texorpdfstring{$<$}{<} copula\+Policy \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.600619cm]{class_quant_lib_1_1_spot_recovery_latent_model}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_aadbba4dea8b91ba2987f37bb0a7e29ee}{Spot\+Recovery\+Latent\+Model}} (const std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ \&\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a9058f44d45963e20631cf813f500ed50}{factor\+Weights}}, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&recoveries, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} modelA, Latent\+Model\+Integration\+Type\+::\+Latent\+Model\+Integration\+Type integral\+Type, const init\+Traits \&ini=init\+Traits())
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_a1b2622850df88b488cd84137c5685d43}\label{class_quant_lib_1_1_spot_recovery_latent_model_a1b2622850df88b488cd84137c5685d43} 
void {\bfseries reset\+Basket} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_basket}{Basket}} $>$ \&basket) const
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_a7b7d8848b482a35614b0c6ce20c2fa9a}\label{class_quant_lib_1_1_spot_recovery_latent_model_a7b7d8848b482a35614b0c6ce20c2fa9a} 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} {\bfseries conditional\+Default\+Probability} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&date, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&mkt\+Factors) const
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_a75385cd29415ddefaff55fbb8f6e109b}\label{class_quant_lib_1_1_spot_recovery_latent_model_a75385cd29415ddefaff55fbb8f6e109b} 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} {\bfseries conditional\+Default\+Probability} (\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} prob, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&mkt\+Factors) const
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_ad6e848dc6d41d253bb44703e33158283}\label{class_quant_lib_1_1_spot_recovery_latent_model_ad6e848dc6d41d253bb44703e33158283} 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} {\bfseries conditional\+Default\+Probability\+InvP} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} inv\+Cum\+YProb, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&m) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_a29fe3902f367bfbd9f4f145f2c9caf12}{exp\+Cond\+Recovery}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&mkt\+Factors) const
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_ac2f5512e890c802ec9dc4afebc38d02c}\label{class_quant_lib_1_1_spot_recovery_latent_model_ac2f5512e890c802ec9dc4afebc38d02c} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries exp\+Cond\+RecoveryP} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} uncond\+DefP, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&mkt\+Factors) const
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_afb089221e0fef4119e9aa950db16605c}\label{class_quant_lib_1_1_spot_recovery_latent_model_afb089221e0fef4119e9aa950db16605c} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries exp\+Cond\+Recovery\+Inv\+Pinv\+RR} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} inv\+Uncond\+DefP, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} inv\+Uncond\+RR, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&mkt\+Factors) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_a142667e298380df891ce027eff427b79}{conditional\+Recovery}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} latent\+Var\+Sample, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_acd31d1e5570a5b9a1bf5af75616bcc84}{latent\+RRVar\+Value}} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&all\+Factors, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name) const
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_af299285b96c1ee2757e93758987b8c0c}\label{class_quant_lib_1_1_spot_recovery_latent_model_af299285b96c1ee2757e93758987b8c0c} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries conditional\+Exp\+Loss\+RR} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&mkt\+Factors) const
\item 
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_adb1bf14c1594876bb9c5175902d2b878}\label{class_quant_lib_1_1_spot_recovery_latent_model_adb1bf14c1594876bb9c5175902d2b878} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries conditional\+Exp\+Loss\+RRInv} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} invP, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} inv\+RR, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&mkt\+Factors) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_a8c19d179b30d77e39189b1d35a7296e3}{expected\+Loss}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model$<$ copula\+Policy $>$}}}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a25404a7f39fe1422f6e4dd1fb9b67115}{update}} () override
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries size} () const
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries num\+Factors} () const
\begin{DoxyCompactList}\small\item\em Number of systemic factors. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries num\+Total\+Factors} () const
\begin{DoxyCompactList}\small\item\em Number of total free random factors; systemic and idiosyncratic. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a2423b7437ca2ba9796e153bd9b9df050}{Latent\+Model}} (const std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ \&factors\+Weights, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a250ac646a6be88e253dc37c2620de9dd}{Latent\+Model}} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&factors\+Weight, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a762ae56003287bdd2995e5a46a8c9f57}{Latent\+Model}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} correl\+Sqr, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n\+Variables, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
\mbox{\hyperlink{class_quant_lib_1_1_latent_model_a4200b7490c6d6690d2ec1df95d4862ba}{Latent\+Model}} (const \mbox{\hyperlink{class_quant_lib_1_1_handle}{Handle}}$<$ \mbox{\hyperlink{class_quant_lib_1_1_quote}{Quote}} $>$ \&single\+Factor\+Correl, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n\+Variables, const typename copula\+Type\+::init\+Traits \&ini=typename copula\+Type\+::init\+Traits())
\item 
const std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ \& {\bfseries factor\+Weights} () const
\begin{DoxyCompactList}\small\item\em Provides values of the factors $ a_{i,k} $. \end{DoxyCompactList}\item 
const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \& {\bfseries idiosync\+Fctrs} () const
\begin{DoxyCompactList}\small\item\em Provides values of the normalized idiosyncratic factors $ Z_i $. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries latent\+Variable\+Correl} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Var1, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Var2) const
\begin{DoxyCompactList}\small\item\em Latent variable correlations\+: \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_af159333d575c0b252de3c71371919dc2}{cumulativeY}} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} val, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Variable) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} {\bfseries cumulativeZ} (\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} z) const
\begin{DoxyCompactList}\small\item\em Cumulative distribution of Z, the idiosyncratic/error factors. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} {\bfseries density} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&m) const
\begin{DoxyCompactList}\small\item\em Density function of M, the market/systemic factors. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries inverse\+Cumulative\+Density} (\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} p, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Factor) const
\begin{DoxyCompactList}\small\item\em Inverse cumulative distribution of the systemic factor i\+Factor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a8f4c7a3b52e2a50a88b3a2e67cc1109b}{inverse\+CumulativeY}} (\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} p, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Variable) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a28355f257003546d33fda003452c820e}{inverse\+CumulativeZ}} (\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} p) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a77b6963ac7d92d55caade265c40af9e4}{all\+Factor\+Cumul\+Inverter}} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&probs) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_aede4740894962881f21e1522349eb287}{latent\+Var\+Value}} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&all\+Factors, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Var) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
const copula\+Type \& {\bfseries copula} () const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a8f73847f26e632e54de23dc218e44875}{integrated\+Expected\+Value}} (const std\+::function$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}(const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&v1)$>$ \&f) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_latent_model_a450b60907aff21aa12ef61c50206ec4b}{integrated\+Expected\+ValueV}} (const std\+::function$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$(const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&v1)$>$ \&f) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observer} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \& {\bfseries operator=} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
std\+::pair$<$ iterator, bool $>$ {\bfseries register\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observer_a338928c4fe626f9ccf0b98ceb318853a}{register\+With\+Observables}} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} $>$ \&)
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries unregister\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void {\bfseries unregister\+With\+All} ()
\item 
virtual void \mbox{\hyperlink{class_quant_lib_1_1_observer_acfbf794db3e7d5cfdea2cd517a195183}{deep\+Update}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observable}{Quant\+Lib\+::\+Observable}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observable} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& \mbox{\hyperlink{class_quant_lib_1_1_observable_ad1e086da62f05b4bc5eafa698ef6fbc3}{operator=}} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
{\bfseries Observable} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& {\bfseries operator=} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observable_afb67478418efdb94382ac9d7ae904b94}{notify\+Observers}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_l_m_integration}{LMIntegration}} $>$ \& \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5}{integration}} () const override
\begin{DoxyCompactList}\small\item\em access to integration\+: \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_aad1fd370b3f36c3cf24b661d189fed01}\label{class_quant_lib_1_1_latent_model_aad1fd370b3f36c3cf24b661d189fed01} 
typedef copula\+Policy {\bfseries copula\+Type}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
typedef set\+\_\+type\+::iterator {\bfseries iterator}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a416b1acb0a0321ba7eac54c1bc1c494d}\label{class_quant_lib_1_1_latent_model_a416b1acb0a0321ba7eac54c1bc1c494d} 
std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ {\bfseries factor\+Weights\+\_\+}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a68e201047207fd50ca0725a2cb7a21d4}\label{class_quant_lib_1_1_latent_model_a68e201047207fd50ca0725a2cb7a21d4} 
\mbox{\hyperlink{class_quant_lib_1_1_handle}{Handle}}$<$ \mbox{\hyperlink{class_quant_lib_1_1_quote}{Quote}} $>$ {\bfseries cached\+Mkt\+Factor\+\_\+}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a4f058b49788035828bbe2b3e78db9ebe}\label{class_quant_lib_1_1_latent_model_a4f058b49788035828bbe2b3e78db9ebe} 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ {\bfseries idiosync\+Fctrs\+\_\+}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_acd1daf4e28ce8ab5233065be60fd2896}\label{class_quant_lib_1_1_latent_model_acd1daf4e28ce8ab5233065be60fd2896} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries n\+Factors\+\_\+}
\begin{DoxyCompactList}\small\item\em Number of systemic factors. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_a43e8cf454283157cab9a90b5aa261409}\label{class_quant_lib_1_1_latent_model_a43e8cf454283157cab9a90b5aa261409} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries n\+Variables\+\_\+}
\begin{DoxyCompactList}\small\item\em Number of latent model variables, idiosyncratic terms or model dim. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_latent_model_aa3dbc85525bd7e1dfbf3a41591cabe27}\label{class_quant_lib_1_1_latent_model_aa3dbc85525bd7e1dfbf3a41591cabe27} 
copula\+Type {\bfseries copula\+\_\+}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class copula\+Policy$>$\newline
class Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model$<$ copula\+Policy $>$}
Random spot recovery rate latent variable portfolio model. 

\begin{DoxyParagraph}{}
See\+: 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
{\bfseries{A Spot Stochastic Recovery Extension of the Gaussian Copula}} N.\+Bennani and J.\+Maetz, MPRA July 2009 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
{\bfseries{Extension of Spot Recovery model for Gaussian Copula}} H.\+Li, October 2009, MPRA 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
The model is adpated here for a multifactor set up and a generic copula so it can be used for pricing in single factor mode or for risk metrics in its multifactor version.
\end{DoxyParagraph}
\begin{DoxyParagraph}{}

\end{DoxyParagraph}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000023}{Todo}}]Rewrite this model\+: the distribution of the spot recovery given default could be given as a functional of rr\+\_\+i with the market factors and the rest of methods depend on this. That would offer a family of models. 

Implement eq. 45 to have the EL(t) and be able to integrate the model \end{DoxyRefDesc}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_aadbba4dea8b91ba2987f37bb0a7e29ee}\index{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}!SpotRecoveryLatentModel@{SpotRecoveryLatentModel}}
\index{SpotRecoveryLatentModel@{SpotRecoveryLatentModel}!QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}}
\doxysubsubsection{\texorpdfstring{SpotRecoveryLatentModel()}{SpotRecoveryLatentModel()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_spot_recovery_latent_model_aadbba4dea8b91ba2987f37bb0a7e29ee} 
template$<$class copula\+Policy$>$ \\
\mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model}}$<$ CP $>$\+::\+Spot\+Recovery\+Latent\+Model (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ $>$ \&}]{factor\+Weights}{, }\item[{const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&}]{recoveries}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{modelA}{, }\item[{Latent\+Model\+Integration\+Type\+::\+Latent\+Model\+Integration\+Type}]{integral\+Type}{, }\item[{const init\+Traits \&}]{ini}{ = {\ttfamily initTraits()}}\end{DoxyParamCaption})}

USE STL

\doxysubsection{Member Function Documentation}
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_a142667e298380df891ce027eff427b79}\index{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}!conditionalRecovery@{conditionalRecovery}}
\index{conditionalRecovery@{conditionalRecovery}!QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}}
\doxysubsubsection{\texorpdfstring{conditionalRecovery()}{conditionalRecovery()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_spot_recovery_latent_model_a142667e298380df891ce027eff427b79} 
template$<$class CP$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model}}$<$ CP $>$\+::conditional\+Recovery (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{latent\+Var\+Sample}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Name}{, }\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{}\end{DoxyParamCaption}) const}

Implements equation 42 on p.\+14 (second). Remember that for this call to make sense the sample used must be one leading to a default. Theres no check on this. This member typically to be used within a simulation. \Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_a29fe3902f367bfbd9f4f145f2c9caf12}\index{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}!expCondRecovery@{expCondRecovery}}
\index{expCondRecovery@{expCondRecovery}!QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}}
\doxysubsubsection{\texorpdfstring{expCondRecovery()}{expCondRecovery()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_spot_recovery_latent_model_a29fe3902f367bfbd9f4f145f2c9caf12} 
template$<$class CP$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model}}$<$ CP $>$\+::exp\+Cond\+Recovery (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Name}{, }\item[{const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&}]{mkt\+Factors}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Expected conditional spot recovery rate. Conditional on a set of systemic factors and default returns the integrated attainable recovery values. \begin{DoxyParagraph}{}
Corresponds to a multifactor generalization of the model in eq. 44 on p.\+15 of {\bfseries{Extension of Spot Recovery Model for Gaussian Copula}} Hui Li. 2009 Only remember that $\rho_l Z $ there is here (multiple betas)\+: $ \sum_k \beta_{ik}^l Z_k $ and that $ \rho_d \rho_l $ there is here\+: $ \sum_k \beta_{ik}^d \beta_{ik}^l $ 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
(d,l corresponds to first and last set of betas) 
\end{DoxyParagraph}
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_a8c19d179b30d77e39189b1d35a7296e3}\index{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}!expectedLoss@{expectedLoss}}
\index{expectedLoss@{expectedLoss}!QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}}
\doxysubsubsection{\texorpdfstring{expectedLoss()}{expectedLoss()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_spot_recovery_latent_model_a8c19d179b30d77e39189b1d35a7296e3} 
template$<$class CP$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model}}$<$ CP $>$\+::expected\+Loss (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Name}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Single name expected loss.\begin{DoxyParagraph}{}
The main reason of this method is for the testing of this model. The model is coherent in that it preserves the single name expected loss and thus is coherent with the single name CDS market when used in the pricing context. i.\+e. it should match\+: $pdef_i(d) \times RR_i $ 
\end{DoxyParagraph}
\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5}\index{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}!integration@{integration}}
\index{integration@{integration}!QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}}
\doxysubsubsection{\texorpdfstring{integration()}{integration()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_spot_recovery_latent_model_aa425c196023713f9809c02b9f896aaf5} 
template$<$class copula\+Policy$>$ \\
const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_l_m_integration}{LMIntegration}} $>$ \& \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model}}$<$ copula\+Policy $>$\+::integration (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



access to integration\+: 



Reimplemented from \mbox{\hyperlink{class_quant_lib_1_1_latent_model}{Quant\+Lib\+::\+Latent\+Model$<$ copula\+Policy $>$}}.

\Hypertarget{class_quant_lib_1_1_spot_recovery_latent_model_acd31d1e5570a5b9a1bf5af75616bcc84}\index{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}!latentRRVarValue@{latentRRVarValue}}
\index{latentRRVarValue@{latentRRVarValue}!QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$@{QuantLib::SpotRecoveryLatentModel$<$ copulaPolicy $>$}}
\doxysubsubsection{\texorpdfstring{latentRRVarValue()}{latentRRVarValue()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_spot_recovery_latent_model_acd31d1e5570a5b9a1bf5af75616bcc84} 
template$<$class CP$>$ \\
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_spot_recovery_latent_model}{Quant\+Lib\+::\+Spot\+Recovery\+Latent\+Model}}$<$ CP $>$\+::latent\+RRVar\+Value (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \&}]{all\+Factors}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Name}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Due to the way the latent model is splitted in two parts, we call the base class for the default sample and the LM owned here for the RR model sample. This sample only makes sense if it led to a default. 
\begin{DoxyParams}{Parameters}
{\em all\+Factors} & All sampled factors, default and RR valiables. \\
\hline
{\em i\+Name} & The index of the name for which we want the RR sample\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000024}{Todo}}]Write vector version for all names\textquotesingle{} RRs \end{DoxyRefDesc}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
ql/experimental/credit/spotlosslatentmodel.\+hpp\end{DoxyCompactItemize}
