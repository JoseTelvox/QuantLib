\doxysection{Quant\+Lib\+::Base\+Correlation\+Loss\+Model\texorpdfstring{$<$}{<} Base\+Model\+\_\+T, Corr2\+DInt\+\_\+T \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{class_quant_lib_1_1_base_correlation_loss_model}{}\label{class_quant_lib_1_1_base_correlation_loss_model}\index{QuantLib::BaseCorrelationLossModel$<$ BaseModel\_T, Corr2DInt\_T $>$@{QuantLib::BaseCorrelationLossModel$<$ BaseModel\_T, Corr2DInt\_T $>$}}


{\ttfamily \#include $<$basecorrelationlossmodel.\+hpp$>$}

Inheritance diagram for Quant\+Lib\+::Base\+Correlation\+Loss\+Model\texorpdfstring{$<$}{<} Base\+Model\+\_\+T, Corr2\+DInt\+\_\+T \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.058824cm]{class_quant_lib_1_1_base_correlation_loss_model}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_base_correlation_loss_model_aaff16d19fe3f770fdb28aa74149a33f1}\label{class_quant_lib_1_1_base_correlation_loss_model_aaff16d19fe3f770fdb28aa74149a33f1} 
{\bfseries Base\+Correlation\+Loss\+Model} (const \mbox{\hyperlink{class_quant_lib_1_1_handle}{Handle}}$<$ \mbox{\hyperlink{class_quant_lib_1_1_base_correlation_term_structure}{Base\+Correlation\+Term\+Structure}}$<$ Corr2\+DInt\+\_\+T $>$ $>$ \&correl\+TS, std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ recoveries, const init\+Traits \&traits=init\+Traits())
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observable}{Quant\+Lib\+::\+Observable}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observable} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& \mbox{\hyperlink{class_quant_lib_1_1_observable_ad1e086da62f05b4bc5eafa698ef6fbc3}{operator=}} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
{\bfseries Observable} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& {\bfseries operator=} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observable_afb67478418efdb94382ac9d7ae904b94}{notify\+Observers}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observer} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \& {\bfseries operator=} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
std\+::pair$<$ iterator, bool $>$ {\bfseries register\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observer_a338928c4fe626f9ccf0b98ceb318853a}{register\+With\+Observables}} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} $>$ \&)
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries unregister\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void {\bfseries unregister\+With\+All} ()
\item 
virtual void \mbox{\hyperlink{class_quant_lib_1_1_observer_acfbf794db3e7d5cfdea2cd517a195183}{deep\+Update}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_base_correlation_loss_model_a34d9297985dd6b7f9c5319f295b7d9ba}{setup\+Models}} () const
\item 
\Hypertarget{class_quant_lib_1_1_base_correlation_loss_model_a165d0c9c7459c45411c25ef6cdd7c4b1}\label{class_quant_lib_1_1_base_correlation_loss_model_a165d0c9c7459c45411c25ef6cdd7c4b1} 
void {\bfseries setup\+Models} () const
\item 
\Hypertarget{class_quant_lib_1_1_base_correlation_loss_model_a8b04a331c632dd354615ea3837f5abbc}\label{class_quant_lib_1_1_base_correlation_loss_model_a8b04a331c632dd354615ea3837f5abbc} 
void {\bfseries setup\+Models} () const
\item 
\Hypertarget{class_quant_lib_1_1_base_correlation_loss_model_a1eaa4698bb717f50ec4a1482f48ce9f7}\label{class_quant_lib_1_1_base_correlation_loss_model_a1eaa4698bb717f50ec4a1482f48ce9f7} 
void {\bfseries setup\+Models} () const
\item 
\Hypertarget{class_quant_lib_1_1_base_correlation_loss_model_a97e37587f6033701f8f2e425f128992e}\label{class_quant_lib_1_1_base_correlation_loss_model_a97e37587f6033701f8f2e425f128992e} 
void {\bfseries setup\+Models} () const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_a922ca5f0ea73b3a33420fbcfb2556e93}{prob\+Over\+Loss}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} loss\+Fraction) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_ac7142d4e72958aef5a602167a138973e}{percentile}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} percentile) const
\begin{DoxyCompactList}\small\item\em Value at Risk given a default loss percentile. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_a60bd1a166744f4de455cae1c1c83f6a1}{expected\+Shortfall}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_ac7142d4e72958aef5a602167a138973e}{percentile}}) const
\begin{DoxyCompactList}\small\item\em Expected shortfall given a default loss percentile. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_ab70b30442fcdda802730fd711c5348da}{split\+Va\+RLevel}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} loss) const
\begin{DoxyCompactList}\small\item\em Associated VaR fraction to each counterparty. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_default_loss_model_a467843d56b00359a8fa7d0a1017079a5}\label{class_quant_lib_1_1_default_loss_model_a467843d56b00359a8fa7d0a1017079a5} 
virtual std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ {\bfseries split\+ESFLevel} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} loss) const
\begin{DoxyCompactList}\small\item\em Associated ESF fraction to each counterparty. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual std\+::map$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}, \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_aeff66ecf317c1dc23713424daf563f88}{loss\+Distribution}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\begin{DoxyCompactList}\small\item\em Full loss distribution. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_default_loss_model_ab57e81d3fdd238c0cb19db2808bc5b59}\label{class_quant_lib_1_1_default_loss_model_ab57e81d3fdd238c0cb19db2808bc5b59} 
virtual \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries density\+Tranche\+Loss} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} loss\+Fraction) const
\begin{DoxyCompactList}\small\item\em \doxylink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability} density of a given loss fraction of the basket notional. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_ab8053b0ecb53c758939cf5c7a33fb328}{probs\+Being\+Nth\+Event}} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n, const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_a25ed3ba8a38c4afaca5dca5b8cfd1d7d}{default\+Correlation}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} j\+Name) const
\begin{DoxyCompactList}\small\item\em Pearsons\textquotesingle{} default probability correlation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_ab46164d907ae7772c0a5f6788ce4568b}{prob\+At\+Least\+NEvents}} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n, const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model_afd0d4637df1423173d5efc758a16f354}{expected\+Recovery}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, const \mbox{\hyperlink{class_quant_lib_1_1_default_prob_key}{Default\+Prob\+Key}} \&) const
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
typedef set\+\_\+type\+::iterator {\bfseries iterator}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model}{Quant\+Lib\+::\+Default\+Loss\+Model}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_quant_lib_1_1_relinkable_handle}{Relinkable\+Handle}}$<$ \mbox{\hyperlink{class_quant_lib_1_1_basket}{Basket}} $>$ {\bfseries basket\+\_\+}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class Base\+Model\+\_\+T, class Corr2\+DInt\+\_\+T$>$\newline
class Quant\+Lib\+::\+Base\+Correlation\+Loss\+Model$<$ Base\+Model\+\_\+\+T, Corr2\+DInt\+\_\+\+T $>$}
Base Correlation loss model; interpolation is performed by portfolio (live) amount percentage.\begin{DoxyParagraph}{}
Though the literature on this model is inmense, see for a more than introductory level (precrisis) chapters 19, 20 and 21 of {\bfseries{Modelling single name and multi-\/name credit derivatives.}} Dominic O\textquotesingle{}Kane, Wiley Finance, 2008
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
For freely available documentation see\+:
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Credit Correlation\+: A Guide; JP Morgan Credit Derivatives Strategy; 12 March 2004 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Introducing Base Correlations; JP Morgan Credit Derivatives Strategy; 22 March 2004 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
A Relative Value Framework for Credit Correlation; JP Morgan Credit Derivatives Strategy; 27 April 2004 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Valuing and Hedging Synthetic \doxylink{class_quant_lib_1_1_c_d_o}{CDO} Tranches Using Base Correlations; Bear Stearns; May 17, 2004 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Correlation Primer; Nomura Fixed Income Research, August 6, 2004 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Base Correlation Explained; Lehman Brothers Fixed Income Quantitative Credit Research; 15 November 2004 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
\textquotesingle{}Pricing CDOs with a smile\textquotesingle{} in Societe Generale Credit Research; February 2005 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
For bespoke base correlation see\+: 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Base Correlation Mapping in Lehman Brothers\textquotesingle{} Quantitative Credit Research Quarterly; Volume 2007-\/Q1 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
You can explore typical postcrisis data by perusing some of the JPMorgan Global Correlation Daily Analytics 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Here the crisis model problems of ability to price stressed portfolios or tranches over the maximum loss are the responsibility of the base models. Users should select their models according to this; choosing the copula or a random loss given default base model (or more exotic ones). 
\end{DoxyParagraph}
\begin{DoxyParagraph}{}
Notice this is different to a bespoke base correlation loss (bespoke here refering to basket composition, not just attachment levels) ; where loss interpolation is on the expected loss value to match the two baskets. Therefore the correlation surface should refer to the same basket intended to be priced. But this is left to the user and is not implemented in the correlation surface (yet...)
\end{DoxyParagraph}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000008}{Todo}}]Bespoke portfolios BC models are yet to be implemented.\end{DoxyRefDesc}


Base\+Model\+\_\+T must have a constructor with a single quote value 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_quant_lib_1_1_base_correlation_loss_model_a34d9297985dd6b7f9c5319f295b7d9ba}\index{QuantLib::BaseCorrelationLossModel$<$ BaseModel\_T, Corr2DInt\_T $>$@{QuantLib::BaseCorrelationLossModel$<$ BaseModel\_T, Corr2DInt\_T $>$}!setupModels@{setupModels}}
\index{setupModels@{setupModels}!QuantLib::BaseCorrelationLossModel$<$ BaseModel\_T, Corr2DInt\_T $>$@{QuantLib::BaseCorrelationLossModel$<$ BaseModel\_T, Corr2DInt\_T $>$}}
\doxysubsubsection{\texorpdfstring{setupModels()}{setupModels()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_base_correlation_loss_model_a34d9297985dd6b7f9c5319f295b7d9ba} 
template$<$class Base\+Model\+\_\+T, class Corr2\+DInt\+\_\+T$>$ \\
void \mbox{\hyperlink{class_quant_lib_1_1_base_correlation_loss_model}{Quant\+Lib\+::\+Base\+Correlation\+Loss\+Model}}$<$ Base\+Model\+\_\+T, Corr2\+DInt\+\_\+T $>$\+::setup\+Models (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}

Sets up attach/detach models. Gets called on basket update. To be specialized on the spacific model type. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
ql/experimental/credit/basecorrelationlossmodel.\+hpp\end{DoxyCompactItemize}
