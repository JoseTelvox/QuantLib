\doxysection{Quant\+Lib\+::Basket Class Reference}
\hypertarget{class_quant_lib_1_1_basket}{}\label{class_quant_lib_1_1_basket}\index{QuantLib::Basket@{QuantLib::Basket}}


{\ttfamily \#include $<$basket.\+hpp$>$}

Inheritance diagram for Quant\+Lib\+::Basket\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_quant_lib_1_1_basket}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_quant_lib_1_1_basket_aec429747163959e23d34a15ee535e883}{Basket}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&\mbox{\hyperlink{class_quant_lib_1_1_basket_a293c2b2fbe89b07504527272375e955d}{ref\+Date}}, const std\+::vector$<$ std\+::string $>$ \&\mbox{\hyperlink{class_quant_lib_1_1_basket_a5bfcb66633488ec17a22c923323dabcb}{names}}, std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_basket_ae55de9298e595aa2976f292e19cc08ac}{notionals}}, ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_pool}{Pool}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_basket_ab343b3d3b245bd161a1e19aedd7e2ae6}{pool}}, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a4c74577014cca12a9da988b40c462e04}{attachment\+Ratio}}=0.\+0, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_aec339867af9dbbfb329d108555f58a18}{detachment\+Ratio}}=1.\+0, ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_claim}{Claim}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_basket_af0842fa054f3a073783e8d320be9be10}{claim}}=ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_claim}{Claim}} $>$(new \mbox{\hyperlink{class_quant_lib_1_1_face_value_claim}{Face\+Value\+Claim}}()))
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_basket_a4c308e29170a0b6c98e5721dd7ec2654}{update}} () override
\item 
\Hypertarget{class_quant_lib_1_1_basket_ae3b4fc4499fa7ba9f07cc3b88be771c5}\label{class_quant_lib_1_1_basket_ae3b4fc4499fa7ba9f07cc3b88be771c5} 
void {\bfseries compute\+Basket} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_a99d8252eaa111838ae40fa6c827352e3}\label{class_quant_lib_1_1_basket_a99d8252eaa111838ae40fa6c827352e3} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries size} () const
\begin{DoxyCompactList}\small\item\em \doxylink{class_quant_lib_1_1_basket}{Basket} inception number of counterparties. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a5bfcb66633488ec17a22c923323dabcb}\label{class_quant_lib_1_1_basket_a5bfcb66633488ec17a22c923323dabcb} 
const std\+::vector$<$ std\+::string $>$ \& {\bfseries names} () const
\begin{DoxyCompactList}\small\item\em \doxylink{class_quant_lib_1_1_basket}{Basket} counterparties names at inception. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_ae55de9298e595aa2976f292e19cc08ac}\label{class_quant_lib_1_1_basket_ae55de9298e595aa2976f292e19cc08ac} 
const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \& {\bfseries notionals} () const
\begin{DoxyCompactList}\small\item\em \doxylink{class_quant_lib_1_1_basket}{Basket} counterparties notionals at inception. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a6de240b963234e3ccbf5b1b25ce53160}\label{class_quant_lib_1_1_basket_a6de240b963234e3ccbf5b1b25ce53160} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries notional} () const
\begin{DoxyCompactList}\small\item\em \doxylink{class_quant_lib_1_1_basket}{Basket} total notional at inception. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a02037e878ecc0e8c2c3b0f57f0937c15}\label{class_quant_lib_1_1_basket_a02037e878ecc0e8c2c3b0f57f0937c15} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries exposure} (const std\+::string \&name, const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&=\mbox{\hyperlink{class_quant_lib_1_1_date}{Date}}()) const
\begin{DoxyCompactList}\small\item\em Returns the total expected exposures for that name. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_ab343b3d3b245bd161a1e19aedd7e2ae6}\label{class_quant_lib_1_1_basket_ab343b3d3b245bd161a1e19aedd7e2ae6} 
const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_pool}{Pool}} $>$ \& {\bfseries pool} () const
\begin{DoxyCompactList}\small\item\em Underlying pool. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a8f931ce7664bfa18e5b8dcbfcbeb593a}\label{class_quant_lib_1_1_basket_a8f931ce7664bfa18e5b8dcbfcbeb593a} 
std\+::vector$<$ \mbox{\hyperlink{class_quant_lib_1_1_default_prob_key}{Default\+Prob\+Key}} $>$ {\bfseries default\+Keys} () const
\begin{DoxyCompactList}\small\item\em The keys each counterparty enters the basket with (sensitive to) \end{DoxyCompactList}\item 
const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \& \mbox{\hyperlink{class_quant_lib_1_1_basket_a293c2b2fbe89b07504527272375e955d}{ref\+Date}} () const
\begin{DoxyCompactList}\small\item\em \doxylink{class_quant_lib_1_1_basket}{Basket} inception date. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a4c74577014cca12a9da988b40c462e04}{attachment\+Ratio}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_aec339867af9dbbfb329d108555f58a18}\label{class_quant_lib_1_1_basket_aec339867af9dbbfb329d108555f58a18} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries detachment\+Ratio} () const
\begin{DoxyCompactList}\small\item\em Detachment point expressed as a fraction of the total pool notional. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a99d9a4747847130aec04f919a5de2472}\label{class_quant_lib_1_1_basket_a99d9a4747847130aec04f919a5de2472} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries basket\+Notional} () const
\begin{DoxyCompactList}\small\item\em Original basket notional ignoring any losses. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a63d29b55c00d9919a21825ae92da7b0e}\label{class_quant_lib_1_1_basket_a63d29b55c00d9919a21825ae92da7b0e} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries tranche\+Notional} () const
\begin{DoxyCompactList}\small\item\em Original tranche notional ignoring any realized losses. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_afab4acbd3210693c27dfa22e92923d02}\label{class_quant_lib_1_1_basket_afab4acbd3210693c27dfa22e92923d02} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries attachment\+Amount} () const
\begin{DoxyCompactList}\small\item\em Attachment amount = \doxylink{class_quant_lib_1_1_basket_a4c74577014cca12a9da988b40c462e04}{attachment\+Ratio()} \texorpdfstring{$\ast$}{*} \doxylink{class_quant_lib_1_1_basket_a99d9a4747847130aec04f919a5de2472}{basket\+Notional()} \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a55d1682836809622635ddf980d37e6ba}\label{class_quant_lib_1_1_basket_a55d1682836809622635ddf980d37e6ba} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries detachment\+Amount} () const
\begin{DoxyCompactList}\small\item\em Detachment amount = \doxylink{class_quant_lib_1_1_basket_aec339867af9dbbfb329d108555f58a18}{detachment\+Ratio()} \texorpdfstring{$\ast$}{*} \doxylink{class_quant_lib_1_1_basket_a99d9a4747847130aec04f919a5de2472}{basket\+Notional()} \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_af0842fa054f3a073783e8d320be9be10}\label{class_quant_lib_1_1_basket_af0842fa054f3a073783e8d320be9be10} 
ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_claim}{Claim}} $>$ {\bfseries claim} () const
\begin{DoxyCompactList}\small\item\em default claim, same for all positions and counterparties \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_basket_af243121cd9546022688152a6910e65d5}{probabilities}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_af9ca9aa6a01a857ee380618bf504f5c7}{settled\+Loss}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_a5ae93c73541280779fc6b8d3d73deda1}\label{class_quant_lib_1_1_basket_a5ae93c73541280779fc6b8d3d73deda1} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries settled\+Loss} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a746f0df8bf087abb39d3227f9df5330c}{cumulated\+Loss}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_ab3f02030adad767c497563d9012fa589}\label{class_quant_lib_1_1_basket_ab3f02030adad767c497563d9012fa589} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries cumulated\+Loss} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a51c593360b72d76f70d59066d4031b6e}{remaining\+Notional}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_ad78d5940301bf8ee20d9d30ea4a0f8e2}\label{class_quant_lib_1_1_basket_ad78d5940301bf8ee20d9d30ea4a0f8e2} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries remaining\+Notional} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \& \mbox{\hyperlink{class_quant_lib_1_1_basket_ac46a085c0c178f4f3f2045e28735a27f}{remaining\+Notionals}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_addf1b5b4652bbb5cf863ad45391179c1}\label{class_quant_lib_1_1_basket_addf1b5b4652bbb5cf863ad45391179c1} 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ {\bfseries remaining\+Notionals} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
const std\+::vector$<$ std\+::string $>$ \& \mbox{\hyperlink{class_quant_lib_1_1_basket_a07ff31fdca3315c595f76c49c294e766}{remaining\+Names}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_a09643b5cc8a860145d4099d4373a2410}\label{class_quant_lib_1_1_basket_a09643b5cc8a860145d4099d4373a2410} 
std\+::vector$<$ std\+::string $>$ {\bfseries remaining\+Names} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
const std\+::vector$<$ \mbox{\hyperlink{class_quant_lib_1_1_default_prob_key}{Default\+Prob\+Key}} $>$ \& \mbox{\hyperlink{class_quant_lib_1_1_basket_a1d95d60bc5085271ca6c11669e49436a}{remaining\+Default\+Keys}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_acc7f1daf215dc7fc8eafeafda20b6364}\label{class_quant_lib_1_1_basket_acc7f1daf215dc7fc8eafeafda20b6364} 
std\+::vector$<$ \mbox{\hyperlink{class_quant_lib_1_1_default_prob_key}{Default\+Prob\+Key}} $>$ {\bfseries remaining\+Default\+Keys} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_adca2dce05e858f501c94fb968cd20454}\label{class_quant_lib_1_1_basket_adca2dce05e858f501c94fb968cd20454} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries remaining\+Size} () const
\begin{DoxyCompactList}\small\item\em Number of counterparties alive on the requested date. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_aa41e006030088319d05bbba88acfdecc}\label{class_quant_lib_1_1_basket_aa41e006030088319d05bbba88acfdecc} 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries remaining\+Size} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_basket_a52558e992f4d95b635cb57a21f0b6daa}{remaining\+Probabilities}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a7a53e607dbe1d49585ad4683dac0a8c0}{remaining\+Attachment\+Amount}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_a8d141c86a5b7958edc9ef025c8a6d2ab}\label{class_quant_lib_1_1_basket_a8d141c86a5b7958edc9ef025c8a6d2ab} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries remaining\+Attachment\+Amount} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&end\+Date) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a27b01fdfd9ff411c9d2b6272645bee55}{remaining\+Detachment\+Amount}} () const
\item 
\Hypertarget{class_quant_lib_1_1_basket_ae68db2b2c3af129834405765aaa9a20d}\label{class_quant_lib_1_1_basket_ae68db2b2c3af129834405765aaa9a20d} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries remaining\+Detachment\+Amount} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&end\+Date) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_ab36d5a4d15df946022f07e4706f53293}\label{class_quant_lib_1_1_basket_ab36d5a4d15df946022f07e4706f53293} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries remaining\+Tranche\+Notional} () const
\begin{DoxyCompactList}\small\item\em Remaining basket tranched notional on calculation date. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_af2e679fee3f0727528cf7d51e9e7ea4b}{remaining\+Tranche\+Notional}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&end\+Date) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_a10b57599065c108e4578309cca27cf44}\label{class_quant_lib_1_1_basket_a10b57599065c108e4578309cca27cf44} 
const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} $>$ \& {\bfseries live\+List} () const
\begin{DoxyCompactList}\small\item\em Indexes of remaining names. Notice these are names and not positions. \end{DoxyCompactList}\item 
\Hypertarget{class_quant_lib_1_1_basket_a5dc76f3286b96661e032925c75c6f037}\label{class_quant_lib_1_1_basket_a5dc76f3286b96661e032925c75c6f037} 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} $>$ {\bfseries live\+List} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_afe2e2652f2b4184282dee43e53524691}\label{class_quant_lib_1_1_basket_afe2e2652f2b4184282dee43e53524691} 
void {\bfseries set\+Loss\+Model} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_default_loss_model}{Default\+Loss\+Model}} $>$ \&loss\+Model)
\begin{DoxyCompactList}\small\item\em Assigns the default loss model to this basket. Resets calculations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_lazy_object}{Quant\+Lib\+::\+Lazy\+Object}}}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_adee2bf49be5c4c78736be293321a856d}{update}} () override
\item 
bool \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_a0a7c5d42815a4e16ee2158e24dbfc748}{is\+Calculated}} () const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_afac6ee19c3107c453e1347dd8000e023}{forward\+First\+Notification\+Only}} ()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_a17c9433135a259e4776baec66204a484}{always\+Forward\+Notifications}} ()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_a70c9b24e50132408d8d9ce4f6674662a}{recalculate}} ()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_a7157f41e83f2c5d924f5c5bafda04d1d}{freeze}} ()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_a2e0e4786666453024b9d4e0761f2770b}{unfreeze}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observable}{Quant\+Lib\+::\+Observable}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observable} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& \mbox{\hyperlink{class_quant_lib_1_1_observable_ad1e086da62f05b4bc5eafa698ef6fbc3}{operator=}} (const \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&)
\item 
{\bfseries Observable} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \& {\bfseries operator=} (\mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} \&\&)=delete
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observable_afb67478418efdb94382ac9d7ae904b94}{notify\+Observers}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Observer} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \& {\bfseries operator=} (const \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} \&)
\item 
std\+::pair$<$ iterator, bool $>$ {\bfseries register\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_observer_a338928c4fe626f9ccf0b98ceb318853a}{register\+With\+Observables}} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observer}{Observer}} $>$ \&)
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries unregister\+With} (const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_observable}{Observable}} $>$ \&)
\item 
void {\bfseries unregister\+With\+All} ()
\item 
virtual void \mbox{\hyperlink{class_quant_lib_1_1_observer_acfbf794db3e7d5cfdea2cd517a195183}{deep\+Update}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Basket Loss Statistics}
Methods providing statistical metrics on the loss or value distribution of the basket. Most calculations rely on the pressence of a model assigned to the basket. \begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_basket_a2b91a2232fb6a37e6fb631904cb6af2d}\label{class_quant_lib_1_1_basket_a2b91a2232fb6a37e6fb631904cb6af2d} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries expected\+Tranche\+Loss} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\item 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a11916d3dbaeef4851496138069982fc2}{prob\+Over\+Loss}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} loss\+Fraction) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_acc4e9d053bf09ec971f10965af973334}\label{class_quant_lib_1_1_basket_acc4e9d053bf09ec971f10965af973334} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries percentile} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} prob) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a111d9dbb5afe7b9444ad76d5b6e5ce83}{expected\+Shortfall}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} prob) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_a9067ed6562ac6529595b73fd852e3250}\label{class_quant_lib_1_1_basket_a9067ed6562ac6529595b73fd852e3250} 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ {\bfseries split\+Va\+RLevel} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&date, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} loss) const
\item 
std\+::map$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}, \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_basket_aa6a87cf3aa8447031b0d6a6e33fa57fb}{loss\+Distribution}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_acff51fa78ecfe4b66995762a75aab47c}\label{class_quant_lib_1_1_basket_acff51fa78ecfe4b66995762a75aab47c} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries density\+Tranche\+Loss} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} loss\+Fraction) const
\item 
\Hypertarget{class_quant_lib_1_1_basket_a84545638a984480c18cc3ad31bd29d81}\label{class_quant_lib_1_1_basket_a84545638a984480c18cc3ad31bd29d81} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries default\+Correlation} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} j\+Name) const
\item 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_basket_abf9a880a5fc60ba3fb19e67d48043284}{probs\+Being\+Nth\+Event}} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n, const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\item 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a2128dcb300624b2344a0d49086e47cf9}{prob\+At\+Least\+NEvents}} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n, const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_basket_a6d7b3831d9fa63d0efdc2d492ec194fc}{recovery\+Rate}} (const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&d, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i\+Name) const
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{class_quant_lib_1_1_observer}{Quant\+Lib\+::\+Observer}}}
\begin{DoxyCompactItemize}
\item 
typedef set\+\_\+type\+::iterator {\bfseries iterator}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{class_quant_lib_1_1_lazy_object_a5244c7f83592375a0ea9048296435fd1}{calculate}} () const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_lazy_object_a58b4986a80efa18634483a92c121e26e}\label{class_quant_lib_1_1_lazy_object_a58b4986a80efa18634483a92c121e26e} 
bool {\bfseries calculated\+\_\+} = false
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_lazy_object_a7bb721fe00c6854e602758aba629ab77}\label{class_quant_lib_1_1_lazy_object_a7bb721fe00c6854e602758aba629ab77} 
bool {\bfseries frozen\+\_\+} = false
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_lazy_object_a02070ea7442d30625992c1711030d4b8}\label{class_quant_lib_1_1_lazy_object_a02070ea7442d30625992c1711030d4b8} 
bool {\bfseries always\+Forward\+\_\+}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Credit \doxylink{class_quant_lib_1_1_basket}{Basket}.\begin{DoxyParagraph}{}
A basket is a collection of credit names, represented by a unique identifier (a text string), associated notional amounts, a pool and tranche information. The pool is a map of "{}names"{} to issuers. The \doxylink{class_quant_lib_1_1_basket}{Basket} structure is motivated by \doxylink{class_quant_lib_1_1_c_d_o}{CDO} squared instruments containing various underlying inner CDOs which can be represented by respective baskets including their tranche structure. The role of the \doxylink{class_quant_lib_1_1_pool}{Pool} is providing a unique list of relevant issuers while names may appear multiple times across different baskets (overlap). 
\end{DoxyParagraph}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_quant_lib_1_1_basket_aec429747163959e23d34a15ee535e883}\index{QuantLib::Basket@{QuantLib::Basket}!Basket@{Basket}}
\index{Basket@{Basket}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{Basket()}{Basket()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_aec429747163959e23d34a15ee535e883} 
Quant\+Lib\+::\+Basket\+::\+Basket (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{ref\+Date}{, }\item[{const std\+::vector$<$ std\+::string $>$ \&}]{names}{, }\item[{std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$}]{notionals}{, }\item[{ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_pool}{Pool}} $>$}]{pool}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{attachment\+Ratio}{ = {\ttfamily 0.0}, }\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{detachment\+Ratio}{ = {\ttfamily 1.0}, }\item[{ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_claim}{Claim}} $>$}]{claim}{ = {\ttfamily ext\+:\+:shared\+\_\+ptr$<$~\mbox{\hyperlink{class_quant_lib_1_1_claim}{Claim}}~$>$(new~\mbox{\hyperlink{class_quant_lib_1_1_face_value_claim}{Face\+Value\+Claim}}())}}\end{DoxyParamCaption})}

Constructs a basket of simple collection of constant notional positions subject to default risk only.

The ref\+Date parameter is the basket inception date, that is, the date at which defaultable events are relevant. (There are no constraints on forward baskets but models assigned should be consistent.) 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_quant_lib_1_1_basket_a4c74577014cca12a9da988b40c462e04}\index{QuantLib::Basket@{QuantLib::Basket}!attachmentRatio@{attachmentRatio}}
\index{attachmentRatio@{attachmentRatio}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{attachmentRatio()}{attachmentRatio()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a4c74577014cca12a9da988b40c462e04} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::attachment\+Ratio (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Attachment point expressed as a fraction of the total inception notional. \Hypertarget{class_quant_lib_1_1_basket_a746f0df8bf087abb39d3227f9df5330c}\index{QuantLib::Basket@{QuantLib::Basket}!cumulatedLoss@{cumulatedLoss}}
\index{cumulatedLoss@{cumulatedLoss}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{cumulatedLoss()}{cumulatedLoss()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a746f0df8bf087abb39d3227f9df5330c} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::cumulated\+Loss (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Actual basket losses between the reference date and the calculation date, taking the actual recovery rates of loss events into account. If the event has not settled yet a model driven recovery is used.

Returns the realized losses in this portfolio since the portfolio default reference date. This method relies on an implementation of the loss given default since the events have not necessarily settled. \Hypertarget{class_quant_lib_1_1_basket_a111d9dbb5afe7b9444ad76d5b6e5ce83}\index{QuantLib::Basket@{QuantLib::Basket}!expectedShortfall@{expectedShortfall}}
\index{expectedShortfall@{expectedShortfall}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{expectedShortfall()}{expectedShortfall()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a111d9dbb5afe7b9444ad76d5b6e5ce83} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::expected\+Shortfall (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}}}]{prob}{}\end{DoxyParamCaption}) const}

ESF \Hypertarget{class_quant_lib_1_1_basket_aa6a87cf3aa8447031b0d6a6e33fa57fb}\index{QuantLib::Basket@{QuantLib::Basket}!lossDistribution@{lossDistribution}}
\index{lossDistribution@{lossDistribution}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{lossDistribution()}{lossDistribution()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_aa6a87cf3aa8447031b0d6a6e33fa57fb} 
std\+::map$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}, \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ Quant\+Lib\+::\+Basket\+::loss\+Distribution (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{}\end{DoxyParamCaption}) const}

Full loss distribution \Hypertarget{class_quant_lib_1_1_basket_af243121cd9546022688152a6910e65d5}\index{QuantLib::Basket@{QuantLib::Basket}!probabilities@{probabilities}}
\index{probabilities@{probabilities}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{probabilities()}{probabilities()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_af243121cd9546022688152a6910e65d5} 
vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ Quant\+Lib\+::\+Basket\+::probabilities (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{}\end{DoxyParamCaption}) const}

Vector of cumulative default probability to date d for all issuers in the basket. \Hypertarget{class_quant_lib_1_1_basket_a2128dcb300624b2344a0d49086e47cf9}\index{QuantLib::Basket@{QuantLib::Basket}!probAtLeastNEvents@{probAtLeastNEvents}}
\index{probAtLeastNEvents@{probAtLeastNEvents}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{probAtLeastNEvents()}{probAtLeastNEvents()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a2128dcb300624b2344a0d49086e47cf9} 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} Quant\+Lib\+::\+Basket\+::prob\+At\+Least\+NEvents (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{n}{, }\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{}\end{DoxyParamCaption}) const}

Returns the probaility of having a given or larger number of defaults in the basket portfolio at a given time. \Hypertarget{class_quant_lib_1_1_basket_a11916d3dbaeef4851496138069982fc2}\index{QuantLib::Basket@{QuantLib::Basket}!probOverLoss@{probOverLoss}}
\index{probOverLoss@{probOverLoss}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{probOverLoss()}{probOverLoss()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a11916d3dbaeef4851496138069982fc2} 
\mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} Quant\+Lib\+::\+Basket\+::prob\+Over\+Loss (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}}}]{loss\+Fraction}{}\end{DoxyParamCaption}) const}

The loss\+Fraction is the fraction of losses expressed in inception (no losses) tranche units (e.\+g. \textquotesingle{}attach level\textquotesingle{}=0\%, \textquotesingle{}detach level\textquotesingle{}=100\%) \Hypertarget{class_quant_lib_1_1_basket_abf9a880a5fc60ba3fb19e67d48043284}\index{QuantLib::Basket@{QuantLib::Basket}!probsBeingNthEvent@{probsBeingNthEvent}}
\index{probsBeingNthEvent@{probsBeingNthEvent}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{probsBeingNthEvent()}{probsBeingNthEvent()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_abf9a880a5fc60ba3fb19e67d48043284} 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ Quant\+Lib\+::\+Basket\+::probs\+Being\+Nth\+Event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{n}{, }\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{}\end{DoxyParamCaption}) const}

\doxylink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability} vector that each of the remaining live names (at eval date) is the n-\/th default by date d.

The n parameter is the internal index to the name; it should be alive at the evaluation date.

-\/-\/-\/-\/-\/-\/---TO DO\+: Implement with a string passed-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- -\/-\/-\/-\/-\/-\/---TO DO\+: Perform check the name is alive-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- \Hypertarget{class_quant_lib_1_1_basket_a6d7b3831d9fa63d0efdc2d492ec194fc}\index{QuantLib::Basket@{QuantLib::Basket}!recoveryRate@{recoveryRate}}
\index{recoveryRate@{recoveryRate}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{recoveryRate()}{recoveryRate()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a6d7b3831d9fa63d0efdc2d492ec194fc} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::recovery\+Rate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}}]{i\+Name}{}\end{DoxyParamCaption}) const}

Expected recovery rate of the underlying position as a fraction of its exposure value at date d {\itshape given} it has defaulted {\itshape on} that date. NOTICE THE ARG IS THE CTPTY....SHOULDNT IT BE THE POSITION/\+INSTRUMENT?????\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} \Hypertarget{class_quant_lib_1_1_basket_a293c2b2fbe89b07504527272375e955d}\index{QuantLib::Basket@{QuantLib::Basket}!refDate@{refDate}}
\index{refDate@{refDate}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{refDate()}{refDate()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a293c2b2fbe89b07504527272375e955d} 
const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \& Quant\+Lib\+::\+Basket\+::ref\+Date (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



\doxylink{class_quant_lib_1_1_basket}{Basket} inception date. 

\doxylink{class_quant_lib_1_1_loss}{Loss} Given \doxylink{struct_quant_lib_1_1_default}{Default} for all issuers/notionals based on expected recovery rates for the respective issuers. \Hypertarget{class_quant_lib_1_1_basket_a7a53e607dbe1d49585ad4683dac0a8c0}\index{QuantLib::Basket@{QuantLib::Basket}!remainingAttachmentAmount@{remainingAttachmentAmount}}
\index{remainingAttachmentAmount@{remainingAttachmentAmount}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingAttachmentAmount()}{remainingAttachmentAmount()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a7a53e607dbe1d49585ad4683dac0a8c0} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::remaining\+Attachment\+Amount (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Attachment amount of the equivalent (after defaults) remaining basket The remaining attachment amount is RAA = max (0, attachment\+Amount -\/ \doxylink{class_quant_lib_1_1_basket_a746f0df8bf087abb39d3227f9df5330c}{cumulated\+Loss()})

The remaining attachment ratio is then RAR = RAA / \doxylink{class_quant_lib_1_1_basket_a51c593360b72d76f70d59066d4031b6e}{remaining\+Notional()} \Hypertarget{class_quant_lib_1_1_basket_a1d95d60bc5085271ca6c11669e49436a}\index{QuantLib::Basket@{QuantLib::Basket}!remainingDefaultKeys@{remainingDefaultKeys}}
\index{remainingDefaultKeys@{remainingDefaultKeys}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingDefaultKeys()}{remainingDefaultKeys()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a1d95d60bc5085271ca6c11669e49436a} 
const std\+::vector$<$ \mbox{\hyperlink{class_quant_lib_1_1_default_prob_key}{Default\+Prob\+Key}} $>$ \& Quant\+Lib\+::\+Basket\+::remaining\+Default\+Keys (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\doxylink{struct_quant_lib_1_1_default}{Default} keys of non defaulted counterparties \Hypertarget{class_quant_lib_1_1_basket_a27b01fdfd9ff411c9d2b6272645bee55}\index{QuantLib::Basket@{QuantLib::Basket}!remainingDetachmentAmount@{remainingDetachmentAmount}}
\index{remainingDetachmentAmount@{remainingDetachmentAmount}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingDetachmentAmount()}{remainingDetachmentAmount()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a27b01fdfd9ff411c9d2b6272645bee55} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::remaining\+Detachment\+Amount (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Detachment amount of the equivalent remaining basket. The remaining detachment amount is RDA = max (0, detachment\+Amount -\/ \doxylink{class_quant_lib_1_1_basket_a746f0df8bf087abb39d3227f9df5330c}{cumulated\+Loss()})

The remaining detachment ratio is then RDR = RDA / \doxylink{class_quant_lib_1_1_basket_a51c593360b72d76f70d59066d4031b6e}{remaining\+Notional()} \Hypertarget{class_quant_lib_1_1_basket_a07ff31fdca3315c595f76c49c294e766}\index{QuantLib::Basket@{QuantLib::Basket}!remainingNames@{remainingNames}}
\index{remainingNames@{remainingNames}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingNames()}{remainingNames()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a07ff31fdca3315c595f76c49c294e766} 
const std\+::vector$<$ std\+::string $>$ \& Quant\+Lib\+::\+Basket\+::remaining\+Names (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Vector of surviving issuers after defaults between the reference basket date and the given (or evaluation) date. \Hypertarget{class_quant_lib_1_1_basket_a51c593360b72d76f70d59066d4031b6e}\index{QuantLib::Basket@{QuantLib::Basket}!remainingNotional@{remainingNotional}}
\index{remainingNotional@{remainingNotional}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingNotional()}{remainingNotional()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a51c593360b72d76f70d59066d4031b6e} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::remaining\+Notional (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

Remaining full basket (untranched) notional after settled losses between the reference date and the given date. The full notional for defaulted names is subracted, recovery ignored. \Hypertarget{class_quant_lib_1_1_basket_ac46a085c0c178f4f3f2045e28735a27f}\index{QuantLib::Basket@{QuantLib::Basket}!remainingNotionals@{remainingNotionals}}
\index{remainingNotionals@{remainingNotionals}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingNotionals()}{remainingNotionals()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_ac46a085c0c178f4f3f2045e28735a27f} 
const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} $>$ \& Quant\+Lib\+::\+Basket\+::remaining\+Notionals (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Vector of surviving notionals after settled losses between the reference date and the given date, recovery ignored. \Hypertarget{class_quant_lib_1_1_basket_a52558e992f4d95b635cb57a21f0b6daa}\index{QuantLib::Basket@{QuantLib::Basket}!remainingProbabilities@{remainingProbabilities}}
\index{remainingProbabilities@{remainingProbabilities}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingProbabilities()}{remainingProbabilities()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a52558e992f4d95b635cb57a21f0b6daa} 
std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_ac41728dd3be3e1869bbb9aec06a89d60}{Probability}} $>$ Quant\+Lib\+::\+Basket\+::remaining\+Probabilities (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{d}{}\end{DoxyParamCaption}) const}

Vector of cumulative default probability to date d for all issuers still (at the evaluation date) alive in the basket. \Hypertarget{class_quant_lib_1_1_basket_af2e679fee3f0727528cf7d51e9e7ea4b}\index{QuantLib::Basket@{QuantLib::Basket}!remainingTrancheNotional@{remainingTrancheNotional}}
\index{remainingTrancheNotional@{remainingTrancheNotional}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{remainingTrancheNotional()}{remainingTrancheNotional()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_af2e679fee3f0727528cf7d51e9e7ea4b} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::remaining\+Tranche\+Notional (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_quant_lib_1_1_date}{Date}} \&}]{end\+Date}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Expected basket tranched notional on the requested date according to the basket model. Model should have been assigned. \Hypertarget{class_quant_lib_1_1_basket_af9ca9aa6a01a857ee380618bf504f5c7}\index{QuantLib::Basket@{QuantLib::Basket}!settledLoss@{settledLoss}}
\index{settledLoss@{settledLoss}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{settledLoss()}{settledLoss()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_af9ca9aa6a01a857ee380618bf504f5c7} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} Quant\+Lib\+::\+Basket\+::settled\+Loss (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Realized basket losses between the reference date and the calculation date, taking the actual recovery rates of loss events into account. Only default events that have settled (have a realized RR) are accounted for. For contingent losses after a default you need to compute the losses through a \doxylink{class_quant_lib_1_1_default_loss_model}{Default\+Loss\+Model}

Optionally one can pass a date in the future and that will collect events stored in the issuers list. This shows the effect of \textquotesingle{}programmed\textquotesingle{} (after today\textquotesingle{}s) events on top of past ones. The intention is to be used in risk analysis (jump to default, etc). \Hypertarget{class_quant_lib_1_1_basket_a4c308e29170a0b6c98e5721dd7ec2654}\index{QuantLib::Basket@{QuantLib::Basket}!update@{update}}
\index{update@{update}!QuantLib::Basket@{QuantLib::Basket}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_basket_a4c308e29170a0b6c98e5721dd7ec2654} 
void Quant\+Lib\+::\+Basket\+::update (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

This method must be implemented in derived classes. An instance of Observer does not call this method directly\+: instead, it will be called by the observables the instance registered with when they need to notify any changes. 

Implements \mbox{\hyperlink{class_quant_lib_1_1_observer_a07905c55dca858470fcf4a1aea0005aa}{Quant\+Lib\+::\+Observer}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
ql/experimental/credit/\mbox{\hyperlink{basket_8hpp}{basket.\+hpp}}\item 
ql/experimental/credit/basket.\+cpp\end{DoxyCompactItemize}
