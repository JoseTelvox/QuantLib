\doxysection{Quant\+Lib\+::Tsiveriotis\+Fernandes\+Lattice\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{class_quant_lib_1_1_tsiveriotis_fernandes_lattice}{}\label{class_quant_lib_1_1_tsiveriotis_fernandes_lattice}\index{QuantLib::TsiveriotisFernandesLattice$<$ T $>$@{QuantLib::TsiveriotisFernandesLattice$<$ T $>$}}


Binomial lattice approximating the Tsiveriotis-\/\+Fernandes model.  




{\ttfamily \#include $<$tflattice.\+hpp$>$}

Inheritance diagram for Quant\+Lib\+::Tsiveriotis\+Fernandes\+Lattice\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.456790cm]{class_quant_lib_1_1_tsiveriotis_fernandes_lattice}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_afc939cc5326def89162467010fc73d46}\label{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_afc939cc5326def89162467010fc73d46} 
{\bfseries Tsiveriotis\+Fernandes\+Lattice} (const ext\+::shared\+\_\+ptr$<$ T $>$ \&tree, \mbox{\hyperlink{namespace_quant_lib_a919ba3567cc89fca373f8d6b8e80126b}{Rate}} risk\+Free\+Rate, \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} end, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} steps, \mbox{\hyperlink{namespace_quant_lib_ad61d2e1a3f01154233de0d5fbb85177c}{Spread}} credit\+Spread, \mbox{\hyperlink{namespace_quant_lib_ae3abfa256de5aa2b506ab6bda014e4dc}{Volatility}} volatility, \mbox{\hyperlink{namespace_quant_lib_ad61d2e1a3f01154233de0d5fbb85177c}{Spread}} div\+Yield)
\item 
\Hypertarget{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_a19b41445bb5099e8b73c08edd51d879d}\label{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_a19b41445bb5099e8b73c08edd51d879d} 
\mbox{\hyperlink{namespace_quant_lib_ad61d2e1a3f01154233de0d5fbb85177c}{Spread}} {\bfseries credit\+Spread} () const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_black_scholes_lattice}{Quant\+Lib\+::\+Black\+Scholes\+Lattice$<$ T $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Black\+Scholes\+Lattice} (const ext\+::shared\+\_\+ptr$<$ T $>$ \&tree, \mbox{\hyperlink{namespace_quant_lib_a919ba3567cc89fca373f8d6b8e80126b}{Rate}} risk\+Free\+Rate, \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} end, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} steps)
\item 
\mbox{\hyperlink{namespace_quant_lib_a919ba3567cc89fca373f8d6b8e80126b}{Rate}} {\bfseries risk\+Free\+Rate} () const
\item 
\mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} {\bfseries dt} () const
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries size} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a05e8e288a4bdedfe5b4e16d8cec14f1c}{Discount\+Factor}} {\bfseries discount} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}}) const
\item 
void {\bfseries stepback} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&values, \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&new\+Values) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries underlying} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} index) const
\item 
\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} {\bfseries descendant} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} index, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} branch) const
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries probability} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} index, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} branch) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_tree_lattice1_d}{Quant\+Lib\+::\+Tree\+Lattice1\+D$<$ Black\+Scholes\+Lattice$<$ T $>$ $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Tree\+Lattice1D} (const \mbox{\hyperlink{class_quant_lib_1_1_time_grid}{Time\+Grid}} \&time\+Grid, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n)
\item 
\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \mbox{\hyperlink{class_quant_lib_1_1_tree_lattice1_d_ac9c82080e75c1c0049ef1cf53e050f0e}{grid}} (\mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} t) const override
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries underlying} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} index) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_tree_lattice}{Quant\+Lib\+::\+Tree\+Lattice$<$ Black\+Scholes\+Lattice$<$ T $>$ $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Tree\+Lattice} (const \mbox{\hyperlink{class_quant_lib_1_1_time_grid}{Time\+Grid}} \&time\+Grid, \mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} n)
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_tree_lattice_a33d74ea97e97eb59a0e54e79a51c9a86}{initialize}} (\mbox{\hyperlink{class_quant_lib_1_1_discretized_asset}{Discretized\+Asset}} \&, \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} t) const override
\begin{DoxyCompactList}\small\item\em initialize an asset at the given time. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} \mbox{\hyperlink{class_quant_lib_1_1_tree_lattice_a64f73976b6ca374d7db218bb17325265}{present\+Value}} (\mbox{\hyperlink{class_quant_lib_1_1_discretized_asset}{Discretized\+Asset}} \&) const override
\begin{DoxyCompactList}\small\item\em Computes the present value of an asset using Arrow-\/\+Debrew prices. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \& {\bfseries state\+Prices} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void {\bfseries stepback} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&values, \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&new\+Values) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_lattice}{Quant\+Lib\+::\+Lattice}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Lattice} (\mbox{\hyperlink{class_quant_lib_1_1_time_grid}{Time\+Grid}} time\+Grid)
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{class_quant_lib_1_1_time_grid}{Time\+Grid}} \& {\bfseries time\+Grid} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_a83c31f0cae991af4a58f5afc133fa838}\label{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_a83c31f0cae991af4a58f5afc133fa838} 
void {\bfseries stepback} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} i, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&values, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&conversion\+Probability, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&spread\+Adjusted\+Rate, \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&new\+Values, \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&new\+Conversion\+Probability, \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&new\+Spread\+Adjusted\+Rate) const
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_aa011e7dbe8d9970c1068fa22beef736a}{rollback}} (\mbox{\hyperlink{class_quant_lib_1_1_discretized_asset}{Discretized\+Asset}} \&, \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} to) const override
\item 
void \mbox{\hyperlink{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_acb89e35250cfa99d1189a59929b21304}{partial\+Rollback}} (\mbox{\hyperlink{class_quant_lib_1_1_discretized_asset}{Discretized\+Asset}} \&, \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} to) const override
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_tree_lattice_a85438e107417fef54b34ffc0a61a9478}\label{class_quant_lib_1_1_tree_lattice_a85438e107417fef54b34ffc0a61a9478} 
void {\bfseries compute\+State\+Prices} (\mbox{\hyperlink{namespace_quant_lib_af4cc4ef40b52c17cc455ead2a97aedb3}{Size}} until) const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_curiously_recurring_template}{Quant\+Lib\+::\+Curiously\+Recurring\+Template$<$ Black\+Scholes\+Lattice$<$ T $>$ $>$}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_quant_lib_1_1_black_scholes_lattice}{Black\+Scholes\+Lattice}}$<$ T $>$ \& {\bfseries impl} ()
\item 
const \mbox{\hyperlink{class_quant_lib_1_1_black_scholes_lattice}{Black\+Scholes\+Lattice}}$<$ T $>$ \& {\bfseries impl} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_quant_lib_1_1_black_scholes_lattice}{Quant\+Lib\+::\+Black\+Scholes\+Lattice$<$ T $>$}}}
\begin{DoxyCompactItemize}
\item 
ext\+::shared\+\_\+ptr$<$ T $>$ {\bfseries tree\+\_\+}
\item 
\mbox{\hyperlink{namespace_quant_lib_a919ba3567cc89fca373f8d6b8e80126b}{Rate}} {\bfseries risk\+Free\+Rate\+\_\+}
\item 
\mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} {\bfseries dt\+\_\+}
\item 
\mbox{\hyperlink{namespace_quant_lib_a05e8e288a4bdedfe5b4e16d8cec14f1c}{Discount\+Factor}} {\bfseries discount\+\_\+}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries pd\+\_\+}
\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries pu\+\_\+}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_tree_lattice_abcd8fa93a0c49f6f79a94077cc945e24}\label{class_quant_lib_1_1_tree_lattice_abcd8fa93a0c49f6f79a94077cc945e24} 
std\+::vector$<$ \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} $>$ {\bfseries state\+Prices\+\_\+}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_lattice_ad4983a465b76964a8f794ba1c6a6843d}\label{class_quant_lib_1_1_lattice_ad4983a465b76964a8f794ba1c6a6843d} 
\mbox{\hyperlink{class_quant_lib_1_1_time_grid}{Time\+Grid}} {\bfseries t\+\_\+}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class T$>$\newline
class Quant\+Lib\+::\+Tsiveriotis\+Fernandes\+Lattice$<$ T $>$}
Binomial lattice approximating the Tsiveriotis-\/\+Fernandes model. 

At this time, this lattice only works with the \doxylink{class_quant_lib_1_1_discretized_convertible}{Discretized\+Convertible} class. 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_acb89e35250cfa99d1189a59929b21304}\index{QuantLib::TsiveriotisFernandesLattice$<$ T $>$@{QuantLib::TsiveriotisFernandesLattice$<$ T $>$}!partialRollback@{partialRollback}}
\index{partialRollback@{partialRollback}!QuantLib::TsiveriotisFernandesLattice$<$ T $>$@{QuantLib::TsiveriotisFernandesLattice$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{partialRollback()}{partialRollback()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_acb89e35250cfa99d1189a59929b21304} 
template$<$class T$>$ \\
void \mbox{\hyperlink{class_quant_lib_1_1_tsiveriotis_fernandes_lattice}{Quant\+Lib\+::\+Tsiveriotis\+Fernandes\+Lattice}}$<$ T $>$\+::partial\+Rollback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_quant_lib_1_1_discretized_asset}{Discretized\+Asset}} \&}]{asset}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}}}]{to}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Roll back an asset until the given time, but do not perform the final adjustment.

\begin{DoxyWarning}{Warning}
In version 0.\+3.\+7 and earlier, this method was called roll\+Almost\+Back method and performed pre-\/adjustment. This is no longer true; when migrating your code, you\textquotesingle{}ll have to replace calls such as\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{method-\/>rollAlmostBack(asset,t);}

\end{DoxyCode}
 with the two statements\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{method-\/>partialRollback(asset,t);}
\DoxyCodeLine{asset-\/>preAdjustValues();}

\end{DoxyCode}
 
\end{DoxyWarning}


Reimplemented from \mbox{\hyperlink{class_quant_lib_1_1_tree_lattice_a09aedab2e04fc74f4924b7a7eddb37d4}{Quant\+Lib\+::\+Tree\+Lattice$<$ Black\+Scholes\+Lattice$<$ T $>$ $>$}}.

\Hypertarget{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_aa011e7dbe8d9970c1068fa22beef736a}\index{QuantLib::TsiveriotisFernandesLattice$<$ T $>$@{QuantLib::TsiveriotisFernandesLattice$<$ T $>$}!rollback@{rollback}}
\index{rollback@{rollback}!QuantLib::TsiveriotisFernandesLattice$<$ T $>$@{QuantLib::TsiveriotisFernandesLattice$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{rollback()}{rollback()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_tsiveriotis_fernandes_lattice_aa011e7dbe8d9970c1068fa22beef736a} 
template$<$class T$>$ \\
void \mbox{\hyperlink{class_quant_lib_1_1_tsiveriotis_fernandes_lattice}{Quant\+Lib\+::\+Tsiveriotis\+Fernandes\+Lattice}}$<$ T $>$\+::rollback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_quant_lib_1_1_discretized_asset}{Discretized\+Asset}} \&}]{asset}{, }\item[{\mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}}}]{to}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Roll back an asset until the given time, performing any needed adjustment. 

Reimplemented from \mbox{\hyperlink{class_quant_lib_1_1_tree_lattice_ad4df1c2dd46c759fa2553fdb3d95ab0b}{Quant\+Lib\+::\+Tree\+Lattice$<$ Black\+Scholes\+Lattice$<$ T $>$ $>$}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
ql/methods/lattices/\mbox{\hyperlink{tflattice_8hpp}{tflattice.\+hpp}}\end{DoxyCompactItemize}
