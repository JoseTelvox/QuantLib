\doxysection{Quant\+Lib\+::Cubic\+BSplines\+Fitting Class Reference}
\hypertarget{class_quant_lib_1_1_cubic_b_splines_fitting}{}\label{class_quant_lib_1_1_cubic_b_splines_fitting}\index{QuantLib::CubicBSplinesFitting@{QuantLib::CubicBSplinesFitting}}


Cubic\+Spline B-\/splines fitting method.  




{\ttfamily \#include $<$nonlinearfittingmethods.\+hpp$>$}

Inheritance diagram for Quant\+Lib\+::Cubic\+BSplines\+Fitting\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_quant_lib_1_1_cubic_b_splines_fitting}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_quant_lib_1_1_cubic_b_splines_fitting_ac7100c584a2c30483fa69ce2e0ce667b}\label{class_quant_lib_1_1_cubic_b_splines_fitting_ac7100c584a2c30483fa69ce2e0ce667b} 
{\bfseries Cubic\+BSplines\+Fitting} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} $>$ \&knot\+Vector, bool \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a1a70aa58b58d49e27750d684c4d3ed84}{constrain\+At\+Zero}}=true, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&\mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_afbfb66bd76f54a51d098f1b9b4a41b72}{weights}}=\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}}(), const ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_optimization_method}{Optimization\+Method}} $>$ \&\mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_af13a932e2c10a94fbecaa422aa247448}{optimization\+Method}}=\{\}, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&\mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_af9fc0011cee001b454cd46e9c6417e86}{l2}}=\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}}(), \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} min\+Cutoff\+Time=0.\+0, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} max\+Cutoff\+Time=\mbox{\hyperlink{group__limit_macros_ga31675a375a563ed7a1bba05c664489af}{QL\+\_\+\+MAX\+\_\+\+REAL}}, \mbox{\hyperlink{class_quant_lib_1_1_constraint}{Constraint}} \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a2c8e4660b600fcd54b9d0ea84dbb9beb}{constraint}}=\mbox{\hyperlink{class_quant_lib_1_1_no_constraint}{No\+Constraint}}())
\item 
\Hypertarget{class_quant_lib_1_1_cubic_b_splines_fitting_a408d69d95b60971c183780894941a093}\label{class_quant_lib_1_1_cubic_b_splines_fitting_a408d69d95b60971c183780894941a093} 
{\bfseries Cubic\+BSplines\+Fitting} (const std\+::vector$<$ \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} $>$ \&knot\+Vector, bool \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a1a70aa58b58d49e27750d684c4d3ed84}{constrain\+At\+Zero}}, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&\mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_afbfb66bd76f54a51d098f1b9b4a41b72}{weights}}, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&\mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_af9fc0011cee001b454cd46e9c6417e86}{l2}}, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} min\+Cutoff\+Time=0.\+0, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} max\+Cutoff\+Time=\mbox{\hyperlink{group__limit_macros_ga31675a375a563ed7a1bba05c664489af}{QL\+\_\+\+MAX\+\_\+\+REAL}}, \mbox{\hyperlink{class_quant_lib_1_1_constraint}{Constraint}} \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a2c8e4660b600fcd54b9d0ea84dbb9beb}{constraint}}=\mbox{\hyperlink{class_quant_lib_1_1_no_constraint}{No\+Constraint}}())
\item 
\Hypertarget{class_quant_lib_1_1_cubic_b_splines_fitting_a30a99812cb6da14bc74d40c523d8bb7e}\label{class_quant_lib_1_1_cubic_b_splines_fitting_a30a99812cb6da14bc74d40c523d8bb7e} 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries basis\+Function} (\mbox{\hyperlink{namespace_quant_lib_a8ac1a45a37d8d3dda438a2e59e222620}{Integer}} i, \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} t) const
\begin{DoxyCompactList}\small\item\em cubic B-\/spline basis functions \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method}{Fitted\+Bond\+Discount\+Curve\+::\+Fitting\+Method}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_cubic_b_splines_fitting_ace4405e8a44e01e12daf86e9d314d611}{clone}} () const override
\begin{DoxyCompactList}\small\item\em clone of the current object \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method}{Quant\+Lib\+::\+Fitted\+Bond\+Discount\+Curve\+::\+Fitting\+Method}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} {\bfseries solution} () const
\begin{DoxyCompactList}\small\item\em output array of results of optimization problem \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a8ac1a45a37d8d3dda438a2e59e222620}{Integer}} {\bfseries number\+Of\+Iterations} () const
\begin{DoxyCompactList}\small\item\em final number of iterations used in the optimization problem \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} {\bfseries minimum\+Cost\+Value} () const
\begin{DoxyCompactList}\small\item\em final value of cost function after optimization \end{DoxyCompactList}\item 
End\+Criteria\+::\+Type {\bfseries error\+Code} () const
\begin{DoxyCompactList}\small\item\em error code of the optimization \end{DoxyCompactList}\item 
bool {\bfseries constrain\+At\+Zero} () const
\begin{DoxyCompactList}\small\item\em return whether there is a constraint at zero \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} {\bfseries weights} () const
\begin{DoxyCompactList}\small\item\em return weights being used \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} {\bfseries l2} () const
\begin{DoxyCompactList}\small\item\em return l2 penalties being used \end{DoxyCompactList}\item 
ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_optimization_method}{Optimization\+Method}} $>$ {\bfseries optimization\+Method} () const
\begin{DoxyCompactList}\small\item\em return optimization method being used \end{DoxyCompactList}\item 
const \mbox{\hyperlink{class_quant_lib_1_1_constraint}{Constraint}} \& {\bfseries constraint} () const
\begin{DoxyCompactList}\small\item\em return optimization contraint \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_quant_lib_a05e8e288a4bdedfe5b4e16d8cec14f1c}{Discount\+Factor}} {\bfseries discount} (const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&x, \mbox{\hyperlink{namespace_quant_lib_a4f78b18a4dd1a979eb78b4e1e8ac1503}{Time}} t) const
\begin{DoxyCompactList}\small\item\em open discount\+Function to public \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method}{Quant\+Lib\+::\+Fitted\+Bond\+Discount\+Curve\+::\+Fitting\+Method}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Fitting\+Method} (bool \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a1a70aa58b58d49e27750d684c4d3ed84}{constrain\+At\+Zero}}=true, const \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \&\mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_afbfb66bd76f54a51d098f1b9b4a41b72}{weights}}=\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}}(), ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_optimization_method}{Optimization\+Method}} $>$ \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_af13a932e2c10a94fbecaa422aa247448}{optimization\+Method}}=ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_optimization_method}{Optimization\+Method}} $>$(), \mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_af9fc0011cee001b454cd46e9c6417e86}{l2}}=\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}}(), \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} min\+Cutoff\+Time=0.\+0, \mbox{\hyperlink{namespace_quant_lib_a372ac5c1a422a6b276fe0552d4d83f50}{Real}} max\+Cutoff\+Time=\mbox{\hyperlink{group__limit_macros_ga31675a375a563ed7a1bba05c664489af}{QL\+\_\+\+MAX\+\_\+\+REAL}}, \mbox{\hyperlink{class_quant_lib_1_1_constraint}{Constraint}} \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a2c8e4660b600fcd54b9d0ea84dbb9beb}{constraint}}=\mbox{\hyperlink{class_quant_lib_1_1_no_constraint}{No\+Constraint}}())
\begin{DoxyCompactList}\small\item\em constructors \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a1a95e76182041bc74d3e9d81c6c22930}{init}} ()
\begin{DoxyCompactList}\small\item\em rerun every time instruments/reference\+Date changes \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method}{Quant\+Lib\+::\+Fitted\+Bond\+Discount\+Curve\+::\+Fitting\+Method}}}
\begin{DoxyCompactItemize}
\item 
bool {\bfseries constrain\+At\+Zero\+\_\+}
\begin{DoxyCompactList}\small\item\em constrains discount function to unity at $ T=0 $, if true \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve}{Fitted\+Bond\+Discount\+Curve}} \texorpdfstring{$\ast$}{*} {\bfseries curve\+\_\+}
\begin{DoxyCompactList}\small\item\em internal reference to the \doxylink{class_quant_lib_1_1_fitted_bond_discount_curve}{Fitted\+Bond\+Discount\+Curve} instance \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} {\bfseries solution\+\_\+}
\begin{DoxyCompactList}\small\item\em solution array found from optimization, set in calculate() \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_quant_lib_1_1_array}{Array}} \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a4bb64cb440e5acd113dc6b997e2babcf}{guess\+Solution\+\_\+}}
\begin{DoxyCompactList}\small\item\em optional guess solution to be passed into constructor. \end{DoxyCompactList}\item 
ext\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_1_1_fitting_cost}{Fitting\+Cost}} $>$ {\bfseries cost\+Function\+\_\+}
\begin{DoxyCompactList}\small\item\em base class sets this cost function used in the optimization routine \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Cubic\+Spline B-\/splines fitting method. 

Fits a discount function to a set of cubic B-\/splines $ N_{i,3}(t) $, i.\+e.,   \[d(t) = \sum_{i=0}^{n}  c_i \times N_{i,3}(t)
\]

See\+: Mc\+Culloch, J. 1971, "{}\+Measuring the Term Structure of \+Interest Rates."{} Journal of Business, 44\+: 19-\/31

Mc\+Culloch, J. 1975, "{}\+The tax adjusted yield curve."{} Journal of Finance, XXX811-\/30

\begin{DoxyWarning}{Warning}
"{}\+The results are extremely sensitive to the number           and location of the knot points, and there is no           optimal way of selecting them."{} James, J. and N. Webber, "{}\+Interest Rate Modelling"{} John Wiley, 2000, pp. 440. 
\end{DoxyWarning}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_quant_lib_1_1_cubic_b_splines_fitting_ace4405e8a44e01e12daf86e9d314d611}\index{QuantLib::CubicBSplinesFitting@{QuantLib::CubicBSplinesFitting}!clone@{clone}}
\index{clone@{clone}!QuantLib::CubicBSplinesFitting@{QuantLib::CubicBSplinesFitting}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \label{class_quant_lib_1_1_cubic_b_splines_fitting_ace4405e8a44e01e12daf86e9d314d611} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method}{Fitted\+Bond\+Discount\+Curve\+::\+Fitting\+Method}} $>$ Quant\+Lib\+::\+Cubic\+BSplines\+Fitting\+::clone (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



clone of the current object 



Implements \mbox{\hyperlink{class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_a70b66bfb9823d64c97f0510231476223}{Quant\+Lib\+::\+Fitted\+Bond\+Discount\+Curve\+::\+Fitting\+Method}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
ql/termstructures/yield/\mbox{\hyperlink{nonlinearfittingmethods_8hpp}{nonlinearfittingmethods.\+hpp}}\item 
ql/termstructures/yield/nonlinearfittingmethods.\+cpp\end{DoxyCompactItemize}
